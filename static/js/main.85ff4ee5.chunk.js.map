{"version":3,"sources":["components/Error/ErrorMes.module.css","UI-kit/Select/Select.module.css","redux/loginReducer.ts","UI-kit/Card/Card.tsx","assets/images/mail.svg","components/CheckEmail/CheckEmail.tsx","components/ErrorPage/ErrorPage.tsx","UI-kit/Input/Input.tsx","UI-kit/Button/Button.tsx","UI-kit/Checkbox/Checkbox.tsx","api/api.ts","redux/profileReducer.ts","redux/appReducer.ts","redux/registerReducer.ts","components/Login/Login.tsx","redux/forgotReducer.ts","components/PasswordRecovery/PasswordRecovery.tsx","components/PasswordUpdate/ParrwordUpdate.tsx","redux/packsReducer.ts","UI-kit/Modal/Modal.tsx","components/changeUserInfo/ChangeUserInfo.tsx","components/Person/Person.tsx","UI-kit/RangeUI/RangeUI.tsx","components/Error/ErrorMes.tsx","components/Paginator/Paginator.tsx","assets/images/icon-cards.svg","helpers/helpers.ts","assets/images/puff.svg","UI-kit/Preloader/Preloader.tsx","redux/cardsReducer.ts","components/Packs/ChangePack.tsx","components/Packs/DeletePackModal.tsx","components/Cards/DeleteCardModal.tsx","components/Cards/UpdateCard.tsx","components/Table/Table.tsx","components/Packs/AddPack.tsx","components/Packs/Packs.tsx","components/Header/Header.tsx","components/Cards/AddCard.tsx","components/Cards/Cards.tsx","components/Lern/Learn.tsx","components/Profile/Profile.tsx","components/Register/Register.tsx","UI-kit/EditableSpan/EditableSpan.tsx","UI-kit/Radio/Radio.tsx","UI-kit/Select/Select.tsx","UI-kit/Range/Range.tsx","components/TestPage/TestPage.tsx","components/Routes/Routes.tsx","App.tsx","redux/store.ts","index.tsx","components/Packs/Packs.module.css","components/Login/Login.module.css","components/Table/Table.module.css","components/Register/Register.module.css","components/PasswordRecovery/Password.module.css","components/changeUserInfo/ChangeUserInfo.module.css","components/Lern/Learn.module.css","components/Cards/UpdateCard.module.css","components/Profile/Profile.module.css","UI-kit/Button/Button.module.css","components/PasswordUpdate/ParrwordUpdate.module.css","components/Packs/ChangePack.module.css","components/Packs/DeletePackModal.module.css","components/Cards/DeleteCardModal.module.css","components/Cards/Cards.module.css","components/ErrorPage/Error404.module.css","components/Paginator/Paginator.module.css","UI-kit/Range/Range.module.css","components/CheckEmail/CheckEmail.module.css","UI-kit/Input/Input.module.css","UI-kit/Modal/Modal.module.css","components/Packs/AddPack.module.css","components/Cards/AddCard.module.css","UI-kit/Preloader/Preloader.module.css","UI-kit/Radio/Radio.module.css","components/TestPage/TestPage.module.css","UI-kit/Card/Card.module.css"],"names":["module","exports","ACTIONS_TYPE","Card","className","children","finalClasses","styles","card","CheckEmail","wrapper","emailChecking","iconWrapper","src","email","alt","ErrorPage","s","errorCode","errorText","errorImg","Input","onChange","onChangeText","onKeyPress","onEnter","error","spanClassName","restProps","finalSpanClassName","finalInputClassName","errorInput","superInput","e","currentTarget","value","key","Button","red","purple","finalClassName","default","Checkbox","type","onChangeChecked","checked","label","instance","axios","create","baseURL","process","withCredentials","authAPI","password","rememberMe","post","name","avatar","put","delete","from","message","resetPasswordToken","packsAPI","currentPage","pageCount","packName","userId","min","max","get","cardsPack","packId","_id","cardsAPI","cardsPack_id","question","answer","id","card_id","grade","initialState","profile","isAdmin","verified","publicCardPacksCount","created","Date","updated","setUserProfileAC","payload","setProfileIdAC","isInitialized","status","setAppStatusAC","catchErrorAC","initializeAppThunk","dispatch","promise","then","res","setStatus","data","catch","err","response","console","log","finally","Promise","all","isAuth","setEmail","SET_EMAIL","setRememberMe","SET_REMEMBER_ME","showErrorMessage","SHOW_ERROR_MESSAGE","SET_AUTH_STATUS","isRegistered","registerFailureAC","registerSuccessAC","Login","useSelector","state","login","errorMessage","app","isLogin","useDispatch","useState","setPassword","useEffect","to","PATH","PROFILE","formWrapper","action","formGroup","shapeIcon","formGroupCheckbox","formGroupPassword","PASSWORD_RECOVERY","formGroupButton","disabled","onClick","preventDefault","loginUserData","setTimeout","navLinkGroup","REGISTER","initialized","setInitializedAC","setErrorAC","PasswordRecovery","mail","setMail","forgot","EMAIL_CHECK","placeholder","target","formGroupEmail","LOGIN","PasswordUpdate","newPassword","setNewPassword","token","useParams","success","sendNewPasswordThunkCreator","btn","cardPacks","user_id","user_name","private","cardsCount","minCardsCount","maxCardsCount","cardPacksTotalCount","packsId","searchPacks","myPage","setRangeValuesAC","setMyPageAC","isCurrent","setCurrentPackIdAC","getPacksTC","getState","packs","Backdrop","onClose","backdrop","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","ChangeUserInfo","inRef","useRef","prevName","setName","selectedFile","setSelectedFile","photo","iconUpload","current","click","ref","dispNone","required","files","reader","FileReader","addEventListener","result","readAsDataURL","input","btnsWrapper","imgUrl","userData","updatedUser","changeUserInfoTC","icon","Person","props","showModal","hideModalHandler","infoBox","showModalHandler","logoutHandler","RangeUi","onChangeRange","Slider","color","event","newValue","valueLabelDisplay","sx","backgroundColor","width","height","top","opacity","ErrorMes","Paginator","currentItem","itemCount","totalItemCount","onChangeItemHandler","portionSize","pagesCount","Math","ceil","pages","i","push","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","paginator","filter","p","map","selectedPage","trimString","string","length","substring","Preloader","img","loader","cards","shots","rating","cardPackId","cardId","packUserId","cardGrade","setCurrentCardIdAC","setCurrentCardGradeAC","getCardsTC","setCardsAC","cardsTotalCount","ChangePack","title","setTitle","updatePackTC","DeletePackModal","onDelete","DeleteCardModal","UpdateCard","cardsPackId","setQuestion","setAnswer","updateCardTC","Table","headers","userIdFromCards","getLocalTime","Intl","DateTimeFormat","format","showPackChangeModal","setShowPackChangeModal","showPackDeleteModal","setShowPackDeleteModal","showCardDeleteModal","setShowCardDeleteModal","showCardUpdateModal","setShowCardUpdateModal","table","removePackTC","deleteCardTC","header","index","actions","scope","colSpan","pack","narrow","cardsIcon","deleteBtn","renderPacks","Rating","round","readOnly","renderCards","AddPack","newPackName","Packs","setShowModal","searchPack","setSearchPack","totalPacksCount","onChangePageHandler","useCallback","pageNumber","setCurrentPageAC","setValue","onChangeSuperDoubleRange","sidebar","btnWrapper","sideBtn","active","sliderComponent","sliderWrapper","RangeUI","packsList","search","fieldGroup","searchValue","callSetSearchPack","searchBtn","tableWrapper","Header","testPage","arrayLinks","l","path","text","profilePage","activeClassName","AddCard","addCardTC","Cards","history","useHistory","goback","goBack","xmlns","viewBox","fill","d","empty","grades","getCard","sum","reduce","acc","rand","random","newSum","Learn","isChecked","setIsChecked","first","setFirst","currentPack","setCard","BpIcon","styled","theme","borderRadius","boxShadow","palette","mode","backgroundImage","outline","outlineOffset","background","BpCheckedIcon","display","BpRadio","bgcolor","disableRipple","checkedIcon","maxWidth","minHeight","margin","style","textAlign","CardActions","cancelBtn","FormControl","component","FormLabel","legend","RadioGroup","defaultValue","g","FormControlLabel","control","registerBtn","updatedGrade","Profile","isLoggedIn","navLinksProfile","exact","PROFILE_PERSON","render","PROFILE_PACKS","PROFILE_CARDS","PROFILE_PACKS_LEARN","Register","createPassword","confirmPassword","user","setUser","submitted","setSubmitted","handleInputChange","register","EditableSpan","autoFocus","onBlur","spanProps","editMode","setEditMode","onDoubleClick","restSpanProps","fontSize","Radio","options","onChangeOption","onChangeCallback","mappedOptions","o","optionInput","customRadios","Select","select","Range","container","sliderTrack","doubleRange","TestPage","arr","rangeValue","setRangeValue","setChecked","setResponse","navLinksTest","flexDirection","justifyContent","alignItems","marginTop","requestsWrapper","JSON","stringify","TEST","PASSWORD_UPDATE","ERROR","Routes","App","reducers","combineReducers","c","store","createStore","applyMiddleware","thunkMiddleware","window"],"mappings":"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","file":"static/js/main.85ff4ee5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorMes_error__1Tj2Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__3masx\"};","import { ThunkType } from \"./store\";\r\nimport { authAPI, UserType } from \"../api/api\";\r\nimport { setAppStatusAC } from \"./appReducer\";\r\nimport { setUserProfileAC } from \"./profileReducer\";\r\n\r\nexport enum ACTIONS_TYPE {\r\n    SET_EMAIL = \"Login/SET-EMAIL\",\r\n    SET_REMEMBER_ME = \"Login/SET-REMEMBER-ME\",\r\n    SHOW_ERROR_MESSAGE = \"Login/SHOW-ERROR-MESSAGE\",\r\n    SET_AUTH_STATUS = \"Login/SET-AUTH-STATUS\",\r\n    SAVE_DATA_USER = \"Login/SAVE-DATA-USER\",\r\n}\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    data: {\r\n        email: \"\",\r\n        password: \"\",\r\n        rememberMe: false,\r\n        error: \"\",\r\n    },\r\n};\r\n\r\nexport const loginReducer = (\r\n    state: LoginInitialStateType = initialState,\r\n    action: ActionLoginTypes\r\n): LoginInitialStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.SET_EMAIL:\r\n        case ACTIONS_TYPE.SET_REMEMBER_ME:\r\n        case ACTIONS_TYPE.SHOW_ERROR_MESSAGE:\r\n            return {\r\n                ...state,\r\n                data: {\r\n                    ...state.data,\r\n                    ...action.payload.data,\r\n                },\r\n            };\r\n        case ACTIONS_TYPE.SET_AUTH_STATUS: {\r\n            return {\r\n                ...state,\r\n                isAuth: action.payload.isAuth,\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creators\r\nexport const setEmail = (email: string) => {\r\n    return {\r\n        type: ACTIONS_TYPE.SET_EMAIL,\r\n        payload: {\r\n            data: { email },\r\n        },\r\n    } as const;\r\n};\r\n\r\nexport const setRememberMe = (rememberMe: boolean) => {\r\n    return {\r\n        type: ACTIONS_TYPE.SET_REMEMBER_ME,\r\n        payload: {\r\n            data: { rememberMe },\r\n        },\r\n    } as const;\r\n};\r\n\r\nexport const showErrorMessage = (error: string) => {\r\n    return {\r\n        type: ACTIONS_TYPE.SHOW_ERROR_MESSAGE,\r\n        payload: {\r\n            data: { error },\r\n        },\r\n    } as const;\r\n};\r\n\r\nexport const saveDataUser = (data: UserType) => {\r\n    return {\r\n        type: ACTIONS_TYPE.SAVE_DATA_USER,\r\n        payload: { data },\r\n    } as const;\r\n};\r\n\r\nexport const setStatus = (isAuth: boolean) => {\r\n    return {\r\n        type: ACTIONS_TYPE.SET_AUTH_STATUS,\r\n        payload: { isAuth },\r\n    } as const;\r\n};\r\n\r\n// Thunk\r\nexport const loginUserData = (\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean\r\n): ThunkType => {\r\n    return (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        authAPI\r\n            .login(email, password, rememberMe)\r\n            .then((res) => {\r\n                dispatch(setStatus(true));\r\n                dispatch(setUserProfileAC(res.data));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(showErrorMessage(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n};\r\n\r\nexport const logoutThunk = (): ThunkType => (dispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    authAPI\r\n        .logout()\r\n        .then((res) => {\r\n            dispatch(setStatus(false));\r\n            dispatch(setRememberMe(false));\r\n            dispatch(setEmail(\"\"));\r\n        })\r\n        .catch((err) => {\r\n            const error = err.response\r\n                ? err.response.data.error\r\n                : err.message + \", more details in the console\";\r\n            console.log(\"err:\", error);\r\n            dispatch(showErrorMessage(error));\r\n        })\r\n        .finally(() => {\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        });\r\n};\r\n// Types\r\nexport type LoginInitialStateType = { isAuth: boolean; data: DataType };\r\ntype DataType = {\r\n    email: string;\r\n    password: string;\r\n    rememberMe: boolean;\r\n    error: string;\r\n};\r\nexport type ActionLoginTypes =\r\n    | ReturnType<typeof setEmail>\r\n    | ReturnType<typeof setRememberMe>\r\n    | ReturnType<typeof showErrorMessage>\r\n    | ReturnType<typeof setStatus>;\r\n","import React, { DetailedHTMLProps, HTMLAttributes } from \"react\";\r\nimport styles from \"./Card.module.css\";\r\ntype DefaultDivPropsType = DetailedHTMLProps<\r\n  HTMLAttributes<HTMLDivElement>,\r\n  HTMLInputElement\r\n>;\r\n\r\nexport const Card: React.FC<DefaultDivPropsType> = ({\r\n  className,\r\n  children,\r\n}) => {\r\n  const finalClasses = `${styles.card} ${className ? className : \"\"}`;\r\n  return <div className={finalClasses}>{children}</div>;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/mail.995de1e6.svg\";","import React from \"react\";\r\nimport { Card } from \"../../UI-kit/Card/Card\";\r\nimport styles from \"./CheckEmail.module.css\";\r\nimport email from \"./../../assets/images/mail.svg\";\r\n\r\nexport const CheckEmail = () => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <Card className={styles.emailChecking}>\r\n                <h1>It-incubator</h1>\r\n                <div className={styles.iconWrapper}>\r\n                    <img src={email} alt=\"Sending message\" />\r\n                </div>\r\n                <h2>Check Email</h2>\r\n                <p>\r\n                    We've sent an email with instructions to example@gmail.com\r\n                </p>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport s from \"./Error404.module.css\";\r\n\r\nexport const ErrorPage = () => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <div className={s.errorCode}>404</div>\r\n      <div className={s.errorText}>There is nothing to do here...</div>\r\n      <img\r\n        src=\"https://www.seekpng.com/png/full/359-3590327_shopify-stores-sad-robot-shopify.png\"\r\n        alt=\"robot\"\r\n        className={s.errorImg}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, {\r\n  ChangeEvent,\r\n  DetailedHTMLProps,\r\n  InputHTMLAttributes,\r\n  KeyboardEvent,\r\n} from \"react\";\r\nimport s from \"./Input.module.css\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<\r\n  InputHTMLAttributes<HTMLInputElement>,\r\n  HTMLInputElement\r\n>;\r\n\r\ntype InputPropsType = DefaultInputPropsType & {\r\n  onChangeText?: (value: string) => void;\r\n  onEnter?: () => void;\r\n  error?: string;\r\n  spanClassName?: string;\r\n};\r\n\r\nexport const Input: React.FC<InputPropsType> = ({\r\n  onChange,\r\n  onChangeText,\r\n  onKeyPress,\r\n  onEnter,\r\n  error,\r\n  className,\r\n  spanClassName,\r\n  ...restProps\r\n}) => {\r\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n    onChange && onChange(e);\r\n    onChangeText && onChangeText(e.currentTarget.value);\r\n  };\r\n  const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n    onKeyPress && onKeyPress(e);\r\n    onEnter && e.key === \"Enter\" && onEnter();\r\n  };\r\n\r\n  const finalSpanClassName = `${s.error} ${spanClassName ? spanClassName : \"\"}`;\r\n  const finalInputClassName = `${error ? s.errorInput : s.superInput} ${\r\n    className ? className : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        onChange={onChangeCallback}\r\n        onKeyPress={onKeyPressCallback}\r\n        className={finalInputClassName}\r\n        {...restProps}\r\n      />\r\n      {error && <span className={finalSpanClassName}>{error}</span>}\r\n    </>\r\n  );\r\n};\r\n","import React, { ButtonHTMLAttributes, DetailedHTMLProps } from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<\r\n  ButtonHTMLAttributes<HTMLButtonElement>,\r\n  HTMLButtonElement\r\n>;\r\n\r\ntype ButtonPropsType = DefaultButtonPropsType & {\r\n  red?: boolean;\r\n  purple?: boolean;\r\n};\r\n\r\nexport const Button: React.FC<ButtonPropsType> = ({\r\n  red,\r\n  purple,\r\n  className,\r\n  ...restProps\r\n}) => {\r\n  const finalClassName = `${\r\n    red\r\n      ? `${s.default} ${s.red}`\r\n      : purple\r\n      ? `${s.default} ${s.purple}`\r\n      : s.default\r\n  } ${className}`;\r\n\r\n  return <button className={finalClassName} {...restProps} />;\r\n};\r\n","import React, {\n  ChangeEvent,\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n} from \"react\";\nimport s from \"./Checkbox.module.css\";\n\ntype DefaultInputPropsType = DetailedHTMLProps<\n  InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\ntype CheckboxPropsType = DefaultInputPropsType & {\n  onChangeChecked?: (checked: boolean) => void;\n  spanClassName?: string;\n};\n\nexport const Checkbox: React.FC<CheckboxPropsType> = ({\n  type,\n  onChange,\n  onChangeChecked,\n  className,\n  spanClassName,\n  children,\n  ...restProps\n}) => {\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\n    onChange && onChange(e);\n    onChangeChecked && onChangeChecked(e.currentTarget.checked);\n  };\n\n  const finalInputClassName = `${className ? className : \"\"}`;\n\n  return (\n    <>\n      <input\n        type={\"checkbox\"}\n        onChange={onChangeCallback}\n        className={finalInputClassName}\n        {...restProps}\n      />\n      {children && <span className={s.spanClassName}>{children}</span>}\n      <label className={s.label}></label>{\" \"}\n    </>\n  );\n};\n","import axios from \"axios\";\r\n\r\nlet backend_URL_ADDRESS = process.env.REACT_APP_BACKEND_URL;\r\n\r\nconst instance = axios.create({\r\n    baseURL: backend_URL_ADDRESS,\r\n    withCredentials: true,\r\n});\r\nexport const authAPI = {\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post<UserType>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n        });\r\n    },\r\n    register(email: string, password: string) {\r\n        return instance.post<RegisterResponseType>(`auth/register`, {\r\n            email,\r\n            password,\r\n        });\r\n    },\r\n    me() {\r\n        return instance.post<UserType>(`auth/me`);\r\n    },\r\n    changeInfo(name: string, avatar: string | null) {\r\n        return instance.put<ChangeInfoResponseType>(`auth/me`, {\r\n            name,\r\n            avatar,\r\n        });\r\n    },\r\n    logout() {\r\n        return instance.delete<LogoutResponseType>(`auth/me`);\r\n    },\r\n    forgotPassword(email: string) {\r\n        return instance.post<ForgotPasswordResponseType>(`auth/forgot`, {\r\n            email,\r\n            from: \"ai73a@yandex.by\",\r\n            message: `<div style=\"background-color: #d9d9f1; margin: 0 auto; padding: 2.5rem; display-flex;  flex-direction: column; align-items: center; justify-content: center; border-radius: 8px\"><h2>Forgot your password?</h2><p>That's ok, it happens! Click on the button below to reset your password.</p> <a href='http://localhost:3000/?#/password-update/$token$'><button style=\"background-color: #21268f; color: #ececf9; padding: 10px 20px; border-radius: 8px;  text-decoration: none;  border: none; cursor:pointer; border-radius: 30px;\">Reset your password</button></a></div>`,\r\n        });\r\n    },\r\n    resetPassword(password: string, resetPasswordToken: string) {\r\n        return instance.post<ResetPasswordResponseType>(\r\n            `auth/set-new-password`,\r\n            {\r\n                password,\r\n                resetPasswordToken,\r\n            }\r\n        );\r\n    },\r\n};\r\n\r\nexport const packsAPI = {\r\n    getPacks(\r\n        currentPage: number,\r\n        pageCount: number,\r\n        packName: string,\r\n        userId: string | null,\r\n        min: number,\r\n        max: number\r\n    ) {\r\n        return instance.get<PacksResponseType>(\r\n            `cards/pack?pageCount=${pageCount}&page=${currentPage}&packName=${packName}&user_id=${userId}&min=${min}&max=${max}`\r\n        );\r\n    },\r\n    addPack(name: string) {\r\n        return instance.post<AddPackResponseType>(`cards/pack`, {\r\n            cardsPack: { name },\r\n        });\r\n    },\r\n    deletePack(packId: string) {\r\n        return instance.delete<DeletedPackResponseType>(\r\n            `cards/pack?id=${packId}`\r\n        );\r\n    },\r\n    updatePack(_id: string, name: string) {\r\n        return instance.put<UpdatedPackResponseType>(`cards/pack`, {\r\n            cardsPack: {\r\n                _id,\r\n                name,\r\n            },\r\n        });\r\n    },\r\n};\r\n\r\nexport const cardsAPI = {\r\n    getCards(packId: string, currentPage: number, pageCount: number) {\r\n        return instance.get<GetCardsResponseType>(\r\n            `cards/card?cardsPack_id=${packId}&pageCount=${pageCount}&page=${currentPage}`\r\n        );\r\n    },\r\n    addCard(cardsPack_id: string, question: string, answer: string) {\r\n        return instance.post<AddedCardResponseType>(`cards/card`, {\r\n            card: { cardsPack_id, question, answer },\r\n        });\r\n    },\r\n    deleteCard(id: string) {\r\n        return instance.delete<DeletedCardResponseType>(`cards/card?id=${id}`);\r\n    },\r\n    updateCard(_id: string, question: string, answer: string) {\r\n        return instance.put<UpdatedCardResponseType>(`cards/card`, {\r\n            card: { _id, question, answer },\r\n        });\r\n    },\r\n    updateCardGrade(card_id: string, grade: number) {\r\n        return instance.put<UpdatedGradeResponseType>(`cards/grade`, {\r\n            card_id,\r\n            grade,\r\n        });\r\n    },\r\n};\r\n\r\n//Types\r\nexport type UserType = {\r\n    _id: string;\r\n    email: string;\r\n    rememberMe: boolean;\r\n    isAdmin: boolean;\r\n    name: string;\r\n    verified: boolean;\r\n    publicCardPacksCount: number;\r\n    created: Date;\r\n    updated: Date;\r\n    avatar: string;\r\n    error: string;\r\n};\r\n\r\nexport type AddedUserType = {\r\n    _id: string;\r\n    email: string;\r\n    rememberMe: boolean;\r\n    isAdmin: boolean;\r\n    name: string;\r\n    verified: boolean;\r\n    publicCardPacksCount: 0;\r\n    created: Date;\r\n    updated: Date;\r\n};\r\nexport type RegisterResponseType = {\r\n    addedUser: AddedUserType;\r\n    error?: string;\r\n};\r\n\r\nexport type ChangeInfoResponseType = {\r\n    updatedUser: UserType;\r\n    token: string;\r\n    tokenDeathTime: number;\r\n};\r\n\r\nexport type LogoutResponseType = {\r\n    info: string;\r\n    error?: string;\r\n};\r\nexport type ForgotPasswordResponseType = {\r\n    info: string;\r\n    success: boolean;\r\n    answer: boolean;\r\n    html: boolean;\r\n    error?: string;\r\n};\r\nexport type ResetPasswordResponseType = {\r\n    info: string;\r\n    error?: string;\r\n};\r\n\r\nexport type CardsPackType = {\r\n    _id: string;\r\n    user_id: string;\r\n    user_name: string;\r\n    private: false;\r\n    name: string;\r\n    cardsCount: 0;\r\n    type: string;\r\n    rating: 0;\r\n    updated: Date;\r\n};\r\nexport type PacksResponseType = {\r\n    cardPacks: CardsPackType[];\r\n    page: number;\r\n    pageCount: number;\r\n    cardPacksTotalCount: number;\r\n    minCardsCount: number;\r\n    maxCardsCount: number;\r\n    token: string;\r\n};\r\nexport type AddPackResponseType = {\r\n    newCardsPack: CardsPackType;\r\n    token: string;\r\n};\r\nexport type DeletedPackResponseType = {\r\n    deletedCardsPack: CardsPackType;\r\n    token: string;\r\n};\r\nexport type UpdatedPackResponseType = {\r\n    updatedCardsPack: CardsPackType;\r\n    token: string;\r\n};\r\n\r\nexport type GetCardsResponseType = {\r\n    cards: CardType[];\r\n    packUserId: string;\r\n    page: number;\r\n    pageCount: number;\r\n    cardsTotalCount: number;\r\n    minGrade: number;\r\n    maxGrade: number;\r\n};\r\nexport type CardType = {\r\n    _id: string;\r\n    cardsPack_id: string;\r\n    user_id: string;\r\n    answer: string;\r\n    question: string;\r\n    grade: number;\r\n    shots: number;\r\n    type: string;\r\n    rating: number;\r\n    updated: Date | string;\r\n    more_id: string;\r\n    created: Date | string;\r\n};\r\nexport type AddedCardResponseType = {\r\n    newCard: CardType;\r\n};\r\nexport type DeletedCardResponseType = {\r\n    deletedCard: CardType;\r\n};\r\nexport type UpdatedCardResponseType = {\r\n    updatedCard: CardType;\r\n};\r\nexport type UpdatedGradeResponseType = {\r\n    updatedGrade: CardType;\r\n};\r\n","import { authAPI } from \"../api/api\";\r\nimport { catchErrorAC, setAppStatusAC } from \"./appReducer\";\r\nimport { setStatus } from \"./loginReducer\";\r\nimport { ThunkType } from \"./store\";\r\n\r\nconst initialState: ProfileInitialStateType = {\r\n    profile: {\r\n        _id: \"\",\r\n        email: \"\",\r\n        rememberMe: false,\r\n        isAdmin: false,\r\n        name: \"\",\r\n        verified: false,\r\n        publicCardPacksCount: 0,\r\n        created: new Date(),\r\n        updated: new Date(),\r\n        avatar: null,\r\n    },\r\n    userId: \"\",\r\n};\r\n\r\nexport const profileReducer = (\r\n    state = initialState,\r\n    action: ActionProfileTypes\r\n): ProfileInitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_USER_PROFILE\":\r\n            return {\r\n                ...state,\r\n                profile: action.payload.profile,\r\n            };\r\n        case \"CHANGE_USER_DATA\":\r\n            return {\r\n                ...state,\r\n                profile: action.payload.userData,\r\n            };\r\n        case \"SET_PROFILE_ID\":\r\n            return {\r\n                ...state,\r\n                userId: action.payload.userId,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creators\r\nexport const setUserProfileAC = (profile: DataUserType) => {\r\n    return { type: \"SET_USER_PROFILE\", payload: { profile } } as const;\r\n};\r\n\r\nexport const changeUserDataAC = (userData: DataUserType) => {\r\n    return {\r\n        type: \"CHANGE_USER_DATA\",\r\n        payload: { userData },\r\n    } as const;\r\n};\r\nexport const setProfileIdAC = (userId: string) => {\r\n    return {\r\n        type: \"SET_PROFILE_ID\",\r\n        payload: { userId },\r\n    } as const;\r\n};\r\n\r\n// Thunks\r\nexport const setAuthTC = (): ThunkType => {\r\n    return (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n\r\n        authAPI\r\n            .me()\r\n            .then((res) => {\r\n                dispatch(setStatus(true));\r\n                dispatch(setUserProfileAC(res.data));\r\n                dispatch(setProfileIdAC(res.data._id));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n};\r\nexport const changeUserInfoTC = (\r\n    name: string,\r\n    imgUrl: string | null\r\n): ThunkType => {\r\n    return (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        authAPI\r\n            .changeInfo(name, imgUrl)\r\n            .then((res) => {\r\n                dispatch(changeUserDataAC(res.data.updatedUser));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n};\r\n\r\n// Types\r\nexport type ActionProfileTypes =\r\n    | ReturnType<typeof setUserProfileAC>\r\n    | ReturnType<typeof changeUserDataAC>\r\n    | ReturnType<typeof setProfileIdAC>;\r\n\r\nexport type ProfileInitialStateType = {\r\n    profile: DataUserType;\r\n    userId: string;\r\n};\r\ntype DataUserType = {\r\n    _id: string;\r\n    email: string;\r\n    rememberMe: boolean;\r\n    isAdmin: boolean;\r\n    name: string;\r\n    verified: boolean;\r\n    publicCardPacksCount: number;\r\n    created: Date;\r\n    updated: Date;\r\n    avatar: string | null;\r\n};\r\n","import { setAuthTC } from \"./profileReducer\";\r\nimport { ThunkType } from \"./store\";\r\n\r\nconst initialState: AppInitialStateType = {\r\n    isInitialized: false,\r\n    status: \"idle\",\r\n    error: \"\",\r\n};\r\n\r\nexport const appReducer = (\r\n    state = initialState,\r\n    action: ActionAppTypes\r\n): AppInitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET-INITIALISATION\":\r\n            return { ...state, isInitialized: true };\r\n        case \"CATCH_ERROR\":\r\n            return {\r\n                ...state,\r\n                error: action.payload.error,\r\n            };\r\n\r\n        case \"SET-STATUS\":\r\n            return {\r\n                ...state,\r\n                status: action.payload.status,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creators\r\nexport const setIsInitializedAC = () => {\r\n    return {\r\n        type: \"SET-INITIALISATION\",\r\n    } as const;\r\n};\r\nexport const setAppStatusAC = (status: RequestStatusType) => {\r\n    return {\r\n        type: \"SET-STATUS\",\r\n        payload: {\r\n            status,\r\n        },\r\n    } as const;\r\n};\r\nexport const catchErrorAC = (error: string) => {\r\n    return { type: \"CATCH_ERROR\", payload: { error } } as const;\r\n};\r\n// Thunks\r\n\r\nexport const initializeAppThunk = (): ThunkType => (dispatch) => {\r\n    const promise = dispatch(setAuthTC());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(setIsInitializedAC());\r\n    });\r\n};\r\n\r\n// Types\r\nexport type ActionAppTypes =\r\n    | ReturnType<typeof setIsInitializedAC>\r\n    | ReturnType<typeof setAppStatusAC>\r\n    | ReturnType<typeof catchErrorAC>;\r\n\r\nexport type AppInitialStateType = {\r\n    isInitialized: boolean;\r\n    status: RequestStatusType;\r\n    error: string;\r\n};\r\nexport type RequestStatusType = \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\r\n","import { authAPI } from \"../api/api\";\r\nimport { setAppStatusAC } from \"./appReducer\";\r\nimport { ThunkType } from \"./store\";\r\n\r\nconst initialState: RegisterInitialStateType = {\r\n    error: \"\",\r\n    isRegistered: false,\r\n};\r\n\r\nexport const registerReducer = (\r\n    state = initialState,\r\n    action: ActionRegisterTypes\r\n): RegisterInitialStateType => {\r\n    switch (action.type) {\r\n        case \"REGISTER_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                isRegistered: action.payload.isRegistered,\r\n            };\r\n        case \"REGISTER_FAILURE\":\r\n            return {\r\n                ...state,\r\n                error: action.payload.error,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const registerFailureAC = (error: string) => {\r\n    return {\r\n        type: \"REGISTER_FAILURE\",\r\n        payload: { error },\r\n    } as const;\r\n};\r\nexport const registerSuccessAC = (isRegistered: boolean) => {\r\n    return {\r\n        type: \"REGISTER_SUCCESS\",\r\n        payload: { isRegistered },\r\n    } as const;\r\n};\r\n\r\n// Thunks\r\nexport const registerUserTC = (email: string, password: string): ThunkType => {\r\n    return (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        authAPI\r\n            .register(email, password)\r\n            .then((res) => {\r\n                dispatch(registerSuccessAC(true));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(registerFailureAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n};\r\n\r\n// Types\r\nexport type ActionRegisterTypes =\r\n    | ReturnType<typeof registerFailureAC>\r\n    | ReturnType<typeof registerSuccessAC>;\r\n\r\nexport type RegisterInitialStateType = { isRegistered: boolean; error: string };\r\n","import React, { ChangeEvent, useEffect, useState } from \"react\";\r\nimport styles from \"./Login.module.css\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Checkbox } from \"../../UI-kit/Checkbox/Checkbox\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { loginUserData, setEmail, setRememberMe, showErrorMessage, } from \"../../redux/loginReducer\";\r\nimport { PATH } from \"../Routes/Routes\";\r\nimport { registerSuccessAC } from \"../../redux/registerReducer\";\r\n\r\nexport const Login = () => {\r\n    const email = useSelector((state: AppStore) => state.login.data.email);\r\n    const rememberMe = useSelector(\r\n        (state: AppStore) => state.login.data.rememberMe\r\n    );\r\n    const errorMessage = useSelector(\r\n        (state: AppStore) => state.login.data.error\r\n    );\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    const isLogin = useSelector((state: AppStore) => state.login.isAuth);\r\n\r\n    const dispatch = useDispatch();\r\n    const [password, setPassword] = useState<string>(\"\");\r\n\r\n    useEffect(() => {\r\n        dispatch(registerSuccessAC(false));\r\n    }, [dispatch])\r\n\r\n    const onCheckboxClick = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(setRememberMe(e.currentTarget.checked));\r\n    };\r\n\r\n    const onEmailInput = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(setEmail(e.currentTarget.value));\r\n    };\r\n\r\n    const onPasswordInput = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setPassword(e.currentTarget.value);\r\n    };\r\n\r\n    const onSubmitClick = (\r\n        e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n    ) => {\r\n        e.preventDefault();\r\n        dispatch(loginUserData(email, password, rememberMe));\r\n        dispatch(showErrorMessage(errorMessage));\r\n\r\n        setTimeout(() => {\r\n            dispatch(showErrorMessage(\"\"));\r\n        }, 3000);\r\n    };\r\n\r\n    if (isLogin) {\r\n        return <Redirect to={PATH.PROFILE} />;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.login}>\r\n                <h1>It-incubator</h1>\r\n\r\n                <div className={styles.formWrapper}>\r\n                    <form action=\"/\">\r\n                        <h2>Sign In</h2>\r\n\r\n                        <div className={styles.formGroup}>\r\n                            <label>\r\n                                <span>Email</span>\r\n                                <br />\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    value={email}\r\n                                    onChange={onEmailInput}\r\n                                />\r\n                                <span className={styles.error}></span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div\r\n                            className={`${styles.formGroup} ${styles.shapeIcon}`}\r\n                        >\r\n                            <label>\r\n                                <span>Password</span>\r\n                                <br />\r\n                                <Input\r\n                                    type=\"password\"\r\n                                    value={password}\r\n                                    onChange={onPasswordInput}\r\n                                />\r\n                                <span className={styles.error}></span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div\r\n                            className={`${styles.formGroup} ${styles.formGroupCheckbox}`}\r\n                        >\r\n                            <label>\r\n                                <Checkbox\r\n                                    checked={rememberMe}\r\n                                    onChange={onCheckboxClick}\r\n                                />\r\n                                <span>Remember me</span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div\r\n                            className={`${styles.formGroup} ${styles.formGroupPassword}`}\r\n                        >\r\n                            {errorMessage && (\r\n                                <span className={styles.errorMessage}>{errorMessage}</span>\r\n                            )}\r\n                            <NavLink to={PATH.PASSWORD_RECOVERY}>\r\n                                Forgot Password\r\n                            </NavLink>\r\n                        </div>\r\n\r\n                        <div\r\n                            className={`${styles.formGroup} ${styles.formGroupButton}`}\r\n                        >\r\n                            <Button\r\n                                type={\"submit\"}\r\n                                disabled={status === \"loading\"}\r\n                                onClick={onSubmitClick}\r\n                            >\r\n                                Login\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <p>\r\n                    Dont have an account?\r\n                </p>\r\n\r\n                <div className={styles.navLinkGroup}>\r\n                    <NavLink to={PATH.REGISTER}> Sign Up</NavLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import { ThunkType } from \"./store\";\r\nimport { Dispatch } from \"redux\";\r\nimport { authAPI } from \"../api/api\";\r\nimport { setAppStatusAC } from \"./appReducer\";\r\n\r\nconst initialState: AuthInitialStateType = {\r\n    initialized: false, // transfer to succesful succesful page\r\n    error: false, // show error page\r\n};\r\n\r\nexport const forgotReducer = (\r\n    state = initialState,\r\n    action: ActionForgotTypes\r\n): AuthInitialStateType => {\r\n    switch (action.type) {\r\n        case \"setInitialized\":\r\n            return { ...state, initialized: action.initialized };\r\n\r\n        case \"setError\":\r\n            return { ...state, error: action.error };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//Thunk one love)))\r\nexport const sendEmailThunkCreator =\r\n    (email: string) => (dispatch: Dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        authAPI\r\n            .forgotPassword(email)\r\n            .then(() => {\r\n                dispatch(setInitializedAC(true));\r\n            })\r\n            .catch(() => {\r\n                dispatch(setErrorAC(true));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n\r\nexport const sendNewPasswordThunkCreator =\r\n    (email: string, token: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        authAPI\r\n            .resetPassword(email, token)\r\n            .then((res) => {\r\n                dispatch(setInitializedAC(true));\r\n            })\r\n            .catch(() => {\r\n                dispatch(setErrorAC(true));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n//Action Creators\r\n\r\nexport const setInitializedAC = (initialized: boolean) => {\r\n    return { type: \"setInitialized\", initialized } as const;\r\n};\r\nexport type setInitializedAT = ReturnType<typeof setInitializedAC>;\r\n\r\nexport const setErrorAC = (error: boolean) => {\r\n    return { type: \"setError\", error } as const;\r\n};\r\nexport type seErrorAT = ReturnType<typeof setErrorAC>;\r\n\r\nexport type ActionForgotTypes = setInitializedAT | seErrorAT;\r\n\r\n// Types\r\n\r\nexport type AuthInitialStateType = {\r\n    initialized: boolean;\r\n    error: boolean;\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Password.module.css\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { sendEmailThunkCreator } from \"../../redux/forgotReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { PATH } from \"../Routes/Routes\";\r\n\r\nexport const PasswordRecovery = () => {\r\n    const [mail, setMail] = useState<string>(\"\");\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const initialized = useSelector<AppStore, boolean>(\r\n        (state) => state.forgot.initialized\r\n    );\r\n    const error = useSelector<AppStore, boolean>((state) => state.forgot.error);\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    if (initialized) {\r\n        return <Redirect to={PATH.EMAIL_CHECK} />;\r\n    }\r\n\r\n    if (error) {\r\n        return <Redirect to={PATH.PROFILE} />;\r\n    }\r\n    const buttonCallback = () => {\r\n        dispatch(sendEmailThunkCreator(mail));\r\n    };\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.login}>\r\n                <h1>It-incubator</h1>\r\n\r\n                <div className={styles.formWrapper}>\r\n                    <form action=\"/\">\r\n                        <h2>Forgot your password?</h2>\r\n\r\n                        <div className={styles.formGroup}>\r\n                            <label>\r\n                                <span>Email</span>\r\n                                <br />\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    placeholder={\"......\"}\r\n                                    onChange={(e) => setMail(e.target.value)}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div\r\n                            className={`${styles.formGroup} ${styles.formGroupEmail}`}\r\n                        >\r\n                            <span>\r\n                                Enter your email address and we will send you\r\n                                further instructions\r\n                            </span>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div\r\n                    className={`${styles.formGroup} ${styles.formGroupButton}`}\r\n                >\r\n                    <Button\r\n                        disabled={status === \"loading\"}\r\n                        type={\"submit\"}\r\n                        onClick={buttonCallback}\r\n                    >\r\n                        Send instructions\r\n                    </Button>\r\n                </div>\r\n\r\n                <p>Did you remember your password?</p>\r\n\r\n                <div className={styles.navLinkGroup}>\r\n                    <NavLink to={PATH.LOGIN}> Try logging in</NavLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport { sendNewPasswordThunkCreator } from \"../../redux/forgotReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Card } from \"../../UI-kit/Card/Card\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { PATH } from \"../Routes/Routes\";\r\nimport styles from \"./ParrwordUpdate.module.css\";\r\n\r\nexport const PasswordUpdate = () => {\r\n    const [newPassword, setNewPassword] = useState<string>(\"\");\r\n    const { token } = useParams<TokenType>();\r\n    const success = useSelector((state: AppStore) => state.forgot.initialized);\r\n    const handleInputNewPassChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setNewPassword(e.currentTarget.value);\r\n    };\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    const dispatch = useDispatch();\r\n    const submitHandler = () => {\r\n        dispatch(sendNewPasswordThunkCreator(newPassword, token));\r\n    };\r\n    if (success === true) {\r\n        return <Redirect to={PATH.LOGIN} />;\r\n    }\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <Card className={styles.emailChecking}>\r\n                <h1>It-incubator</h1>\r\n                <h2>Create new password</h2>\r\n                <div className={`${styles.formGroup} ${styles.shapeIcon}`}>\r\n                    <label>\r\n                        <span>Password</span>\r\n                        <br />\r\n                        <Input\r\n                            type=\"password\"\r\n                            onChange={handleInputNewPassChange}\r\n                            value={newPassword}\r\n                        />\r\n                    </label>\r\n                    <p>\r\n                        Create new password and we will send you futher\r\n                        instructions to email\r\n                    </p>\r\n                </div>\r\n                <Button\r\n                    onClick={submitHandler}\r\n                    disabled={status === \"loading\"}\r\n                    className={styles.btn}\r\n                >\r\n                    Create new password\r\n                </Button>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Types\r\ntype TokenType = {\r\n    token: string;\r\n};\r\n","import { packsAPI } from \"../api/api\";\r\nimport { catchErrorAC, setAppStatusAC } from \"./appReducer\";\r\nimport { AppStore, ThunkType } from \"./store\";\r\n\r\nconst initialState: AppInitialStateType = {\r\n    cardPacks: [\r\n        {\r\n            _id: \"\",\r\n            user_id: \"\",\r\n            user_name: \"\",\r\n            private: false,\r\n            name: \"\",\r\n            cardsCount: 0,\r\n            updated: new Date(),\r\n        },\r\n    ],\r\n    minCardsCount: 0,\r\n    maxCardsCount: 100,\r\n    currentPage: 1,\r\n    pageCount: 10,\r\n    cardPacksTotalCount: 0,\r\n    userId: \"\",\r\n    packsId: \"\",\r\n    searchPacks: \"\",\r\n    myPage: false,\r\n};\r\n\r\nexport const packsReducer = (\r\n    state = initialState,\r\n    action: ActionPacksTypes\r\n): AppInitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_PACKS\":\r\n            return {\r\n                ...state,\r\n                cardPacks: action.payload.cardPacks.map((p) => p),\r\n            };\r\n        case \"SET_SEARCH_PACKS\":\r\n            return { ...state, searchPacks: action.payload.searchValue };\r\n        case \"SET_CURRENT_PAGE\":\r\n            return {\r\n                ...state,\r\n                currentPage: action.payload.currentPage,\r\n            };\r\n        case \"SET_PACKS_TOTAL_COUNT\":\r\n            return {\r\n                ...state,\r\n                cardPacksTotalCount: action.payload.cardPacksTotalCount,\r\n            };\r\n        case \"SET_RANGE_VALUES\":\r\n            return {\r\n                ...state,\r\n                minCardsCount: action.payload.min,\r\n                maxCardsCount: action.payload.max,\r\n            };\r\n        case \"SET_MY_PAGE\":\r\n            return {\r\n                ...state,\r\n                myPage: action.payload.myPage,\r\n            };\r\n        case \"SET_CURRENT_PACK_ID\":\r\n            return {\r\n                ...state,\r\n                packsId: action.payload.packId,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creators\r\nexport const setPacksAC = (cardPacks: PackType[]) => {\r\n    return { type: \"SET_PACKS\", payload: { cardPacks } } as const;\r\n};\r\n\r\nexport const setCurrentPageAC = (currentPage: number) => {\r\n    return {\r\n        type: \"SET_CURRENT_PAGE\",\r\n        payload: {\r\n            currentPage,\r\n        },\r\n    } as const;\r\n};\r\nexport const setPacksTotalCountAC = (cardPacksTotalCount: number) => {\r\n    return {\r\n        type: \"SET_PACKS_TOTAL_COUNT\",\r\n        payload: {\r\n            cardPacksTotalCount,\r\n        },\r\n    } as const;\r\n};\r\nexport const setSearchPacksAC = (searchValue: string) => {\r\n    return {\r\n        type: \"SET_SEARCH_PACKS\",\r\n        payload: {\r\n            searchValue,\r\n        },\r\n    } as const;\r\n};\r\nexport const setRangeValuesAC = (min: number, max: number) => {\r\n    return {\r\n        type: \"SET_RANGE_VALUES\",\r\n        payload: {\r\n            min,\r\n            max,\r\n        },\r\n    } as const;\r\n};\r\nexport const setMyPageAC = (isCurrent: boolean) => {\r\n    return {\r\n        type: \"SET_MY_PAGE\",\r\n        payload: {\r\n            myPage: isCurrent,\r\n        },\r\n    } as const;\r\n};\r\nexport const setCurrentPackIdAC = (packId: string) => {\r\n    return {\r\n        type: \"SET_CURRENT_PACK_ID\",\r\n        payload: {\r\n            packId,\r\n        },\r\n    } as const;\r\n};\r\n// Thunks\r\nexport const getPacksTC =\r\n    (): ThunkType => (dispatch, getState: () => AppStore) => {\r\n        const {\r\n            currentPage,\r\n            pageCount,\r\n            searchPacks,\r\n            minCardsCount,\r\n            maxCardsCount,\r\n            myPage,\r\n        } = getState().packs;\r\n        const userId = myPage ? getState().profile.userId : \"\";\r\n\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n\r\n        packsAPI\r\n            .getPacks(\r\n                currentPage,\r\n                pageCount,\r\n                searchPacks,\r\n                userId,\r\n                minCardsCount,\r\n                maxCardsCount\r\n            )\r\n            .then((res) => {\r\n                dispatch(setPacksAC(res.data.cardPacks));\r\n                dispatch(setPacksTotalCountAC(res.data.cardPacksTotalCount));\r\n                dispatch(setRangeValuesAC(minCardsCount, maxCardsCount));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n\r\nexport const addPackTC =\r\n    (newPackName: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        packsAPI\r\n            .addPack(newPackName)\r\n            .then((res) => {\r\n                dispatch(getPacksTC());\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\nexport const removePackTC =\r\n    (packId: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        packsAPI\r\n            .deletePack(packId)\r\n            .then((res) => {\r\n                dispatch(getPacksTC());\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\nexport const updatePackTC =\r\n    (packId: string, title: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        packsAPI\r\n            .updatePack(packId, title)\r\n            .then((res) => {\r\n                dispatch(getPacksTC());\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n\r\n// Types\r\nexport type ActionPacksTypes =\r\n    | ReturnType<typeof setPacksAC>\r\n    | ReturnType<typeof setCurrentPageAC>\r\n    | ReturnType<typeof setPacksTotalCountAC>\r\n    | ReturnType<typeof catchErrorAC>\r\n    | ReturnType<typeof setSearchPacksAC>\r\n    | ReturnType<typeof setRangeValuesAC>\r\n    | ReturnType<typeof setMyPageAC>\r\n    | ReturnType<typeof setCurrentPackIdAC>;\r\n\r\nexport type AppInitialStateType = {\r\n    cardPacks: PackType[];\r\n    currentPage: number;\r\n    pageCount: number;\r\n    cardPacksTotalCount: number;\r\n    minCardsCount: number;\r\n    maxCardsCount: number;\r\n    userId: string;\r\n    packsId: string;\r\n    searchPacks: string;\r\n    myPage: boolean;\r\n};\r\nexport type PackType = {\r\n    _id: string;\r\n    user_id: string;\r\n    user_name: string;\r\n    private: false;\r\n    name: string;\r\n    cardsCount: 0;\r\n    updated: Date;\r\n};\r\n","import { DetailedHTMLProps, Fragment, HTMLAttributes } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport const Backdrop: React.FC<ModalPropsType> = ({ onClose }) => {\r\n    return <div className={styles.backdrop} onClick={onClose} />;\r\n};\r\n\r\nexport const ModalOverlay: React.FC<DefaultDivPropsType> = ({ children }) => {\r\n    return (\r\n        <div className={styles.modal}>\r\n            <div className={styles.content}>{children}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst portalElement = document.getElementById(\"overlays\");\r\n\r\nexport const Modal: React.FC<ModalPropsType> = ({ onClose, children }) => {\r\n    return (\r\n        <Fragment>\r\n            {portalElement\r\n                ? ReactDOM.createPortal(\r\n                      <Backdrop onClose={onClose} />,\r\n                      portalElement\r\n                  )\r\n                : null}\r\n            {portalElement\r\n                ? ReactDOM.createPortal(\r\n                      <ModalOverlay>{children}</ModalOverlay>,\r\n                      portalElement\r\n                  )\r\n                : null}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\n// Types\r\ntype DefaultDivPropsType = DetailedHTMLProps<\r\n    HTMLAttributes<HTMLDivElement>,\r\n    HTMLInputElement\r\n>;\r\ntype ModalPropsType = DefaultDivPropsType & { onClose?: () => void };\r\n","import React, { ChangeEvent, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeUserInfoTC } from \"../../redux/profileReducer\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./ChangeUserInfo.module.css\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { MdPhotoCamera } from \"react-icons/md\";\r\nexport const ChangeUserInfo: React.FC<ChangeUserInfoPropsType> = ({\r\n    onClose,\r\n}) => {\r\n    const inRef = useRef<HTMLInputElement>(null);\r\n    const prevName = useSelector(\r\n        (state: AppStore) => state.profile.profile.name\r\n    );\r\n    const [name, setName] = useState(prevName);\r\n    const [selectedFile, setSelectedFile] = useState<any>();\r\n    const dispatch = useDispatch();\r\n\r\n    const handleInputNameChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setName(e.currentTarget.value);\r\n    };\r\n\r\n    const photo = useSelector(\r\n        (state: AppStore) => state.profile.profile.avatar\r\n    );\r\n    const fileSelectedHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            const reader = new FileReader();\r\n            reader.addEventListener(\"load\", () => {\r\n                setSelectedFile(reader.result);\r\n            });\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    };\r\n    const submitHandler = () => {\r\n        if (name || selectedFile) {\r\n            dispatch(changeUserInfoTC(name, selectedFile));\r\n            setName(\"\");\r\n        }\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <h2>Personal Information</h2>\r\n                <div>\r\n                    <img\r\n                        className={styles.avatar}\r\n                        src={\r\n                            selectedFile\r\n                                ? selectedFile\r\n                                : photo == null\r\n                                ? \"https://www.pngkey.com/png/full/72-729716_user-avatar-png-graphic-free-download-icon.png\"\r\n                                : photo\r\n                        }\r\n                    />\r\n                    <label className={styles.iconUpload}>\r\n                        <MdPhotoCamera\r\n                            onClick={() =>\r\n                                inRef && inRef.current && inRef.current.click()\r\n                            }\r\n                        />\r\n                    </label>\r\n                    <input\r\n                        ref={inRef}\r\n                        type=\"file\"\r\n                        className={styles.dispNone}\r\n                        required\r\n                        onChange={fileSelectedHandler}\r\n                    />\r\n                </div>\r\n                <label className={styles.input}>\r\n                    <span>Nickname</span>\r\n\r\n                    <br />\r\n                    <Input\r\n                        onChange={handleInputNameChange}\r\n                        name=\"name\"\r\n                        required\r\n                        value={name}\r\n                    />\r\n                </label>\r\n\r\n                <div className={styles.btnsWrapper}>\r\n                    <Button purple onClick={onClose} className={styles.btn}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={submitHandler} className={styles.btn}>\r\n                        Save\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\n// Types\r\ntype ChangeUserInfoPropsType = { onClose: () => void };\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPacksTC, setMyPageAC } from \"../../redux/packsReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { ChangeUserInfo } from \"../changeUserInfo/ChangeUserInfo\";\r\nimport styles from \"../Profile/Profile.module.css\";\r\n\r\ntype PersonPropsType = {\r\n    photo?: string | null;\r\n    name?: string | null;\r\n    showModalHandler: () => void;\r\n    logoutHandler: () => void;\r\n    showModal: boolean;\r\n    hideModalHandler: () => void;\r\n};\r\n\r\nexport const Person = (props: PersonPropsType) => {\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(setMyPageAC(false));\r\n        dispatch(getPacksTC());\r\n    }, [dispatch]);\r\n\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {props.showModal && (\r\n                <ChangeUserInfo onClose={props.hideModalHandler} />\r\n            )}\r\n\r\n            <div className={styles.infoBox}>\r\n                <img\r\n                    className={styles.avatar}\r\n                    src={\r\n                        props.photo == null\r\n                            ? \"https://www.pngkey.com/png/full/72-729716_user-avatar-png-graphic-free-download-icon.png\"\r\n                            : props.photo\r\n                    }\r\n                    alt=\"avatar\"\r\n                />\r\n                <h3>{props.name}</h3>\r\n                <h4 onClick={props.showModalHandler}>Edit profile</h4>\r\n                <Button\r\n                    disabled={status === \"loading\"}\r\n                    onClick={props.logoutHandler}\r\n                >\r\n                    Logout\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./RangeUI.module.css\";\r\nimport Slider from \"@mui/material/Slider\";\r\n\r\ntype SuperDoubleRangePropsType = {\r\n    onChangeRange?: (value: number[]) => void;\r\n    value: number[];\r\n    // min, max, step, disable, ...\r\n};\r\n\r\nconst RangeUi: React.FC<SuperDoubleRangePropsType> = ({\r\n                                                          onChangeRange,\r\n                                                          value,\r\n                                                      }) => {\r\n    const handleChange = (event: Event, newValue: number[] | number) => {\r\n        onChangeRange && onChangeRange(newValue as number[]);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Slider\r\n                className={styles.Slider}\r\n                color={\"primary\"}\r\n                value={value}\r\n                onChange={handleChange}\r\n                valueLabelDisplay=\"on\"\r\n                sx={{\r\n                    color: \"#21268F\",\r\n                    \"& .MuiSlider-thumb\": {\r\n                        backgroundColor: \"#21268F\",\r\n                    },\r\n                    \".css-eg0mwd-MuiSlider-thumb::after\": {\r\n                        backgroundColor: \"white\",\r\n                        width: 10,\r\n                        height: 10,\r\n                    },\r\n                    \".css-1kz0hui-MuiSlider-valueLabel.MuiSlider-valueLabelOpen\":\r\n                        {\r\n                            backgroundColor: \"#21268F\",\r\n                            width: 35,\r\n                            height: 25,\r\n                            top: -2,\r\n                        },\r\n                    \".css-1kz0hui-MuiSlider-valueLabel:before\": {\r\n                        width: 0,\r\n                        height: 0,\r\n                    },\r\n                    \".css-14pt78w-MuiSlider-rail\": {\r\n                        backgroundColor: \"#21268F\",\r\n                        opacity: 0.5,\r\n                    },\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RangeUi;\r\n","import React, { DetailedHTMLProps, HTMLAttributes } from \"react\";\r\nimport styles from \"./ErrorMes.module.css\";\r\ntype DefaultDivPropsType = DetailedHTMLProps<\r\n    HTMLAttributes<HTMLDivElement>,\r\n    HTMLInputElement\r\n>;\r\n\r\nexport const ErrorMes: React.FC<DefaultDivPropsType> = ({ children }) => {\r\n    return <div className={styles.error}>{children}</div>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { FaAngleLeft, FaAngleRight } from \"react-icons/fa\";\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nexport const Paginator: React.FC<PaginatorPropsType> = (props) => {\r\n    const {\r\n        currentItem,\r\n        itemCount,\r\n        totalItemCount,\r\n        onChangeItemHandler,\r\n        portionSize,\r\n    } = props;\r\n    let pagesCount = Math.ceil(totalItemCount / itemCount);\r\n    let pages: number[] = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 && (\r\n                <FaAngleLeft\r\n                    className={styles.icon}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber - 1);\r\n                    }}\r\n                >\r\n                    Previous\r\n                </FaAngleLeft>\r\n            )}\r\n\r\n            {pages\r\n                .filter(\r\n                    (p) =>\r\n                        p >= leftPortionPageNumber &&\r\n                        p <= rightPortionPageNumber\r\n                )\r\n                .map((p) => {\r\n                    return (\r\n                        <span\r\n                            key={p}\r\n                            className={\r\n                                currentItem === p ? styles.selectedPage : \"\"\r\n                            }\r\n                            onClick={() => {\r\n                                onChangeItemHandler(p);\r\n                            }}\r\n                        >\r\n                            {p}\r\n                        </span>\r\n                    );\r\n                })}\r\n            {portionCount > portionNumber && (\r\n                <FaAngleRight\r\n                    className={styles.icon}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber + 1);\r\n                    }}\r\n                >\r\n                    Next\r\n                </FaAngleRight>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport type PaginatorPropsType = {\r\n    currentItem: number;\r\n    itemCount: number;\r\n    totalItemCount: number;\r\n    portionSize: number;\r\n    onChangeItemHandler: (page: number) => void;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/icon-cards.3f95abc0.svg\";","export let trimString = function (string: string, length: number) {\r\n    return string.length > length\r\n        ? string.substring(0, length) + \"...\"\r\n        : string;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/puff.cf50e627.svg\";","import React, { Fragment } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport loader from \"./../../assets/images/puff.svg\";\r\nimport styles from \"./Preloader.module.css\";\r\n\r\nexport const Preloader = () => {\r\n    const portalElement = document.getElementById(\"overlays\");\r\n    return (\r\n        <Fragment>\r\n            {portalElement &&\r\n                ReactDOM.createPortal(\r\n                    <div className={styles.backdrop}>\r\n                        <img\r\n                            className={styles.img}\r\n                            src={loader}\r\n                            alt=\"loading\"\r\n                        />\r\n                    </div>,\r\n                    portalElement\r\n                )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\n// {\r\n//   <img className={styles.img} src={loader} alt=\"loading\" />\r\n// }\r\n","import { cardsAPI } from \"../api/api\";\r\nimport { catchErrorAC, setAppStatusAC } from \"./appReducer\";\r\nimport { AppStore, ThunkType } from \"./store\";\r\n\r\nconst initialState: AppInitialStateType = {\r\n    cards: [\r\n        {\r\n            _id: \"\",\r\n            cardsPack_id: \"\",\r\n            answer: \"\",\r\n            question: \"\",\r\n            grade: 0,\r\n            shots: 0,\r\n            rating: 0,\r\n            updated: new Date(),\r\n        },\r\n    ],\r\n    cardPackId: \"\",\r\n    cardId: \"\",\r\n    minCardsCount: 0,\r\n    maxCardsCount: 0,\r\n    currentPage: 1,\r\n    pageCount: 10,\r\n    cardsCount: 0,\r\n    packUserId: \"\",\r\n    cardGrade: 0,\r\n};\r\n\r\nexport const cardsReducer = (\r\n    state: AppInitialStateType = initialState,\r\n    action: ActionCardsTypes\r\n): AppInitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_CARDS\":\r\n            return {\r\n                ...state,\r\n                cards: action.payload.cards.map((p) => p),\r\n            };\r\n        case \"SET_CURRENT_PAGE\":\r\n            return {\r\n                ...state,\r\n                currentPage: action.payload.currentPage,\r\n            };\r\n        case \"SET_CARDS_TOTAL_COUNT\":\r\n            return {\r\n                ...state,\r\n                cardsCount: action.payload.cardsCount,\r\n            };\r\n        case \"SET_USER_ID\":\r\n            return {\r\n                ...state,\r\n                packUserId: action.payload.userId,\r\n            };\r\n        case \"SET_CARDS_GRADE\":\r\n            return {\r\n                ...state,\r\n                cards: state.cards.map((c) => {\r\n                    if (c._id === action.payload.card_id) {\r\n                        return { ...c, grade: action.payload.grade };\r\n                    } else {\r\n                        return c;\r\n                    }\r\n                }),\r\n            };\r\n        case \"SET_CURRENT_CARD_ID\":\r\n            return {\r\n                ...state,\r\n                cardId: action.payload.cardId,\r\n            };\r\n        case \"SET_CURRENT_CARD_GRADE\":\r\n            return {\r\n                ...state,\r\n                cardGrade: action.payload.cardGrade,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creators\r\nexport const setCardsAC = (cards: CardType[]) => {\r\n    return { type: \"SET_CARDS\", payload: { cards } } as const;\r\n};\r\n\r\nexport const setCurrentPageAC = (currentPage: number) => {\r\n    return {\r\n        type: \"SET_CURRENT_PAGE\",\r\n        payload: {\r\n            currentPage,\r\n        },\r\n    } as const;\r\n};\r\nexport const setUserIdAC = (userId: string) => {\r\n    return {\r\n        type: \"SET_USER_ID\",\r\n        payload: {\r\n            userId,\r\n        },\r\n    } as const;\r\n};\r\nexport const setCardsCountAC = (cardsCount: number) => {\r\n    return {\r\n        type: \"SET_CARDS_TOTAL_COUNT\",\r\n        payload: {\r\n            cardsCount,\r\n        },\r\n    } as const;\r\n};\r\n\r\nexport const setCardsGradeAC = (card_id: string, grade: number) => {\r\n    return {\r\n        type: \"SET_CARDS_GRADE\",\r\n        payload: {\r\n            card_id,\r\n            grade,\r\n        },\r\n    } as const;\r\n};\r\nexport const setCurrentCardIdAC = (cardId: string) => {\r\n    return {\r\n        type: \"SET_CURRENT_CARD_ID\",\r\n        payload: {\r\n            cardId,\r\n        },\r\n    } as const;\r\n};\r\nexport const setCurrentCardGradeAC = (cardGrade: number) => {\r\n    return {\r\n        type: \"SET_CURRENT_CARD_GRADE\",\r\n        payload: {\r\n            cardGrade,\r\n        },\r\n    } as const;\r\n};\r\n\r\n// Thunks\r\nexport const getCardsTC =\r\n    (packId: string): ThunkType =>\r\n    (dispatch, getState: () => AppStore) => {\r\n        const cards = getState().cards;\r\n        const currentPage = cards.currentPage;\r\n        const pageCount = cards.pageCount;\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        cardsAPI\r\n            .getCards(packId, currentPage, pageCount)\r\n            .then((res) => {\r\n                dispatch(setCardsAC(res.data.cards));\r\n                dispatch(setUserIdAC(res.data.packUserId));\r\n                dispatch(setCardsCountAC(res.data.cardsTotalCount));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\nexport const addCardTC =\r\n    (cardsPackId: string, question: string, answer: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        cardsAPI\r\n            .addCard(cardsPackId, question, answer)\r\n            .then((res) => {\r\n                dispatch(getCardsTC(cardsPackId));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\nexport const deleteCardTC =\r\n    (cardId: string, cardsPackId: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        cardsAPI\r\n            .deleteCard(cardId)\r\n            .then((res) => {\r\n                dispatch(getCardsTC(cardsPackId));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\nexport const updateCardTC =\r\n    (\r\n        cardId: string,\r\n        cardsPackId: string,\r\n        question: string,\r\n        answer: string\r\n    ): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        cardsAPI\r\n            .updateCard(cardId, question, answer)\r\n            .then((res) => {\r\n                dispatch(getCardsTC(cardsPackId));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\nexport const updateCardGradeTC =\r\n    (): ThunkType => (dispatch, getState: () => AppStore) => {\r\n        const cardId = getState().cards.cardId;\r\n        const grade = getState().cards.cardGrade;\r\n        dispatch(setAppStatusAC(\"loading\"));\r\n        cardsAPI\r\n            .updateCardGrade(cardId, grade)\r\n            .then((res) => {\r\n                dispatch(setCurrentCardGradeAC(res.data.updatedGrade.grade));\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response\r\n                    ? err.response.data.error\r\n                    : err.message + \", more details in the console\";\r\n                console.log(\"err:\", error);\r\n                dispatch(catchErrorAC(error));\r\n            })\r\n            .finally(() => {\r\n                dispatch(setAppStatusAC(\"succeeded\"));\r\n            });\r\n    };\r\n\r\n// Types\r\nexport type ActionCardsTypes =\r\n    | ReturnType<typeof setCardsAC>\r\n    | ReturnType<typeof setCurrentPageAC>\r\n    | ReturnType<typeof setCardsCountAC>\r\n    | ReturnType<typeof setUserIdAC>\r\n    | ReturnType<typeof setCardsGradeAC>\r\n    | ReturnType<typeof setCurrentCardIdAC>\r\n    | ReturnType<typeof setCurrentCardGradeAC>;\r\n\r\nexport type AppInitialStateType = {\r\n    cards: CardType[];\r\n    currentPage: number;\r\n    pageCount: number;\r\n    cardsCount: number;\r\n    minCardsCount: number;\r\n    maxCardsCount: number;\r\n    packUserId: string;\r\n    cardId: string;\r\n    cardPackId: string;\r\n    cardGrade: number;\r\n};\r\nexport type CardType = {\r\n    _id: string;\r\n    cardsPack_id: string;\r\n    answer: string;\r\n    question: string;\r\n    grade: number;\r\n    shots: number;\r\n    rating: number;\r\n    updated: Date | string;\r\n};\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { catchErrorAC } from \"../../redux/appReducer\";\r\nimport { updatePackTC } from \"../../redux/packsReducer\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./ChangePack.module.css\";\r\n\r\nexport const ChangePack: React.FC<ChagePackModalPropsType> = ({\r\n    onClose,\r\n    packId,\r\n}) => {\r\n    const [title, setTitle] = useState(\"\");\r\n\r\n    const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value);\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = () => {\r\n        dispatch(updatePackTC(packId, title));\r\n        onClose();\r\n        setTimeout(() => {\r\n            dispatch(catchErrorAC(\"\"));\r\n        }, 2000);\r\n    };\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <label>\r\n                    <h2>Update Pack Info</h2>\r\n                    <span>Name pack</span>\r\n                    <br />\r\n                    <Input\r\n                        onChange={handleInputChange}\r\n                        name=\"question\"\r\n                        required\r\n                        value={title}\r\n                    />\r\n                </label>\r\n\r\n                <div className={styles.btnsWrapper}>\r\n                    <Button purple onClick={onClose} className={styles.btn}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={submitHandler} className={styles.btn}>\r\n                        Save\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\n// Types\r\ntype ChagePackModalPropsType = {\r\n    onClose: () => void;\r\n    packId: string;\r\n};\r\n","import React from \"react\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./DeletePackModal.module.css\";\r\n\r\nexport const DeletePackModal: React.FC<DeleteModalPropsType> = ({\r\n    onClose,\r\n    onDelete,\r\n}) => {\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <h2>Delete Pack</h2>\r\n                <p>\r\n                    Do you really want to remove this Pack? <br /> All cards\r\n                    will be excluded from this course.\r\n                </p>\r\n\r\n                <div className={styles.btnsWrapper}>\r\n                    <Button purple onClick={onClose} className={styles.btn}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button red onClick={onDelete} className={styles.btn}>\r\n                        Delete\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n// Types\r\ntype DeleteModalPropsType = {\r\n    onClose: () => void;\r\n    onDelete: () => void;\r\n};\r\n","import React from \"react\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./DeleteCardModal.module.css\";\r\n\r\nexport const DeleteCardModal: React.FC<DeleteModalPropsType> = ({\r\n    onClose,\r\n    onDelete,\r\n}) => {\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <h2>Delete Card</h2>\r\n                <p>Do you really want to remove this Card?</p>\r\n\r\n                <div className={styles.btnsWrapper}>\r\n                    <Button purple onClick={onClose} className={styles.btn}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button red onClick={onDelete} className={styles.btn}>\r\n                        Delete\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n// Types\r\ntype DeleteModalPropsType = {\r\n    onClose: () => void;\r\n    onDelete: () => void;\r\n};\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { catchErrorAC } from \"../../redux/appReducer\";\r\nimport { updateCardTC } from \"../../redux/cardsReducer\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./UpdateCard.module.css\";\r\n\r\nexport const UpdateCard: React.FC<UpdateModalPropsType> = ({\r\n    onClose,\r\n    cardId,\r\n    cardsPackId,\r\n}) => {\r\n    const [question, setQuestion] = useState(\"\");\r\n    const [answer, setAnswer] = useState(\"\");\r\n    const handleQuestionInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setQuestion(e.currentTarget.value);\r\n    };\r\n    const handleAnswerInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setAnswer(e.currentTarget.value);\r\n    };\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = () => {\r\n        dispatch(updateCardTC(cardId, cardsPackId, question, answer));\r\n        onClose();\r\n        setTimeout(() => {\r\n            dispatch(catchErrorAC(\"\"));\r\n        }, 2000);\r\n    };\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <label>\r\n                    <h2>Update Card Info</h2>\r\n                    <span>Question</span>\r\n                    <br />\r\n                    <Input\r\n                        className={styles.input}\r\n                        onChange={handleQuestionInputChange}\r\n                        name=\"question\"\r\n                        required\r\n                        value={question}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    <span>Answer</span>\r\n                    <br />\r\n\r\n                    <Input\r\n                        onChange={handleAnswerInputChange}\r\n                        name=\"answer\"\r\n                        required\r\n                        value={answer}\r\n                    />\r\n                </label>\r\n                <div className={styles.btnsWrapper}>\r\n                    <Button purple onClick={onClose} className={styles.btn}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={submitHandler} className={styles.btn}>\r\n                        Save\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\n// Types\r\ntype UpdateModalPropsType = {\r\n    onClose: () => void;\r\n    cardId: string;\r\n    cardsPackId: string;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n    PackType,\r\n    removePackTC,\r\n    setCurrentPackIdAC,\r\n} from \"../../redux/packsReducer\";\r\nimport styles from \"./Table.module.css\";\r\nimport cardsIcon from \"./../../assets/images/icon-cards.svg\";\r\nimport { trimString } from \"./../../helpers/helpers\";\r\nimport { Preloader } from \"../../UI-kit/Preloader/Preloader\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { catchErrorAC } from \"../../redux/appReducer\";\r\nimport {\r\n    CardType,\r\n    deleteCardTC,\r\n    setCurrentCardGradeAC,\r\n    setCurrentCardIdAC,\r\n} from \"../../redux/cardsReducer\";\r\nimport { ChangePack } from \"../Packs/ChangePack\";\r\nimport { DeletePackModal } from \"../Packs/DeletePackModal\";\r\nimport { DeleteCardModal } from \"../Cards/DeleteCardModal\";\r\nimport { UpdateCard } from \"../Cards/UpdateCard\";\r\nimport Rating from \"@mui/material/Rating\";\r\n\r\nexport const Table: React.FC<TablePropsType> = ({ headers, packs, cards }) => {\r\n    const dispatch = useDispatch();\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    const userId = useSelector((state: AppStore) => state.profile.profile._id);\r\n    const userIdFromCards = useSelector(\r\n        (state: AppStore) => state.cards.packUserId\r\n    );\r\n    const packId = useSelector((state: AppStore) => state.packs.packsId);\r\n    const cardId = useSelector((state: AppStore) => state.cards.cardId);\r\n    const getLocalTime = (value: Date | string) =>\r\n        new Intl.DateTimeFormat().format(new Date(value));\r\n    const [showPackChangeModal, setShowPackChangeModal] = useState(false);\r\n    const [showPackDeleteModal, setShowPackDeleteModal] = useState(false);\r\n    const [showCardDeleteModal, setShowCardDeleteModal] = useState(false);\r\n    const [showCardUpdateModal, setShowCardUpdateModal] = useState(false);\r\n\r\n    // Get packs table body\r\n    const renderPacks = (packs: PackType[]) => {\r\n        return packs.map((pack) => {\r\n            return (\r\n                <tr key={pack._id}>\r\n                    <td>{trimString(pack.name, 20)}</td>\r\n                    <td>{pack.cardsCount}</td>\r\n                    <td>{trimString(getLocalTime(pack.updated), 20)}</td>\r\n                    <td>{trimString(pack.user_name, 22)}</td>\r\n                    <td className={styles.narrow}>\r\n                        <NavLink to={`/profile/cards/${pack._id}`}>\r\n                            <img src={cardsIcon} alt=\"cards\" />\r\n                        </NavLink>\r\n                    </td>\r\n                    <td className={styles.narrow}>\r\n                        <NavLink\r\n                            to={`packs/lern/${pack._id}`}\r\n                            className={styles.btn}\r\n                        >\r\n                            Learn\r\n                        </NavLink>\r\n                    </td>\r\n                    <td className={styles.narrow}>\r\n                        {pack.user_id === userId ? (\r\n                            <button\r\n                                className={`${styles.btn} ${styles.deleteBtn}`}\r\n                                onClick={() => {\r\n                                    setShowPackDeleteModal(true);\r\n                                    dispatch(setCurrentPackIdAC(pack._id));\r\n                                }}\r\n                            >\r\n                                Delete\r\n                            </button>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                    </td>\r\n                    <td className={styles.narrow}>\r\n                        {pack.user_id === userId ? (\r\n                            <button\r\n                                className={styles.btn}\r\n                                onClick={() => {\r\n                                    dispatch(setCurrentPackIdAC(pack._id));\r\n                                    setShowPackChangeModal(true);\r\n                                }}\r\n                            >\r\n                                Edit\r\n                            </button>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    };\r\n\r\n    // Get cards table body\r\n    const renderCards = (cards: CardType[]) => {\r\n        return cards.map((card) => (\r\n            <tr key={card._id}>\r\n                <td>{trimString(card.question, 10)}</td>\r\n                <td>{card.answer}</td>\r\n                <td>{trimString(getLocalTime(card.updated), 10)}</td>\r\n                <td>\r\n                    <Rating name=\"read-only\" value={Math.round(card.grade)} readOnly />\r\n                </td>\r\n                <td>\r\n                    {userIdFromCards === userId ? (\r\n                        <button\r\n                            className={`${styles.btn} ${styles.deleteBtn}`}\r\n                            onClick={() => {\r\n                                dispatch(setCurrentCardIdAC(card._id));\r\n                                dispatch(setCurrentPackIdAC(card.cardsPack_id));\r\n                                setShowCardDeleteModal(true);\r\n                            }}\r\n                        >\r\n                            Delete\r\n                        </button>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </td>\r\n                <td colSpan={3}>\r\n                    <>\r\n                        {userIdFromCards === userId ? (\r\n                            <button\r\n                                className={styles.btn}\r\n                                onClick={() => {\r\n                                    dispatch(setCurrentCardGradeAC(card.grade));\r\n                                    dispatch(setCurrentCardIdAC(card._id));\r\n                                    dispatch(\r\n                                        setCurrentPackIdAC(card.cardsPack_id)\r\n                                    );\r\n                                    setShowCardUpdateModal(true);\r\n                                }}\r\n                            >\r\n                                Edit\r\n                            </button>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                    </>\r\n                </td>\r\n            </tr>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <table className={styles.table}>\r\n            {status === \"loading\" && <Preloader />}\r\n            {showPackDeleteModal && (\r\n                <DeletePackModal\r\n                    onClose={() => {\r\n                        setShowPackDeleteModal(false);\r\n                    }}\r\n                    onDelete={() => {\r\n                        dispatch(removePackTC(packId));\r\n                        setTimeout(() => {\r\n                            dispatch(catchErrorAC(\"\"));\r\n                        }, 2000);\r\n                        setShowPackDeleteModal(false);\r\n                    }}\r\n                />\r\n            )}\r\n            {showPackChangeModal && (\r\n                <ChangePack\r\n                    onClose={() => {\r\n                        setShowPackChangeModal(false);\r\n                    }}\r\n                    packId={packId}\r\n                />\r\n            )}\r\n            {showCardDeleteModal && (\r\n                <DeleteCardModal\r\n                    onClose={() => {\r\n                        setShowCardDeleteModal(false);\r\n                    }}\r\n                    onDelete={() => {\r\n                        dispatch(deleteCardTC(cardId, packId));\r\n                        setTimeout(() => {\r\n                            dispatch(catchErrorAC(\"\"));\r\n                        }, 2000);\r\n                        setShowCardDeleteModal(false);\r\n                    }}\r\n                />\r\n            )}\r\n            {showCardUpdateModal && (\r\n                <UpdateCard\r\n                    onClose={() => {\r\n                        setShowCardUpdateModal(false);\r\n                    }}\r\n                    cardId={cardId}\r\n                    cardsPackId={packId}\r\n                />\r\n            )}\r\n            <thead>\r\n                <tr>\r\n                    {headers.map((header, index) => {\r\n                        return header === \"Actions\" ? (\r\n                            <th\r\n                                className={styles.actions}\r\n                                scope=\"col\"\r\n                                key={index}\r\n                                colSpan={3}\r\n                            >\r\n                                {header}\r\n                            </th>\r\n                        ) : (\r\n                            <th scope=\"col\" key={index}>\r\n                                {header}\r\n                            </th>\r\n                        );\r\n                    })}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {packs && renderPacks(packs)}\r\n                {cards && renderCards(cards)}\r\n            </tbody>\r\n        </table>\r\n    );\r\n};\r\n// Types\r\ntype TablePropsType = {\r\n    headers: string[];\r\n    packs?: PackType[];\r\n    cards?: CardType[];\r\n};\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addPackTC } from \"../../redux/packsReducer\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./AddPack.module.css\";\r\n\r\nexport const AddPack: React.FC<UpdateModalPropsType> = ({ onClose }) => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value);\r\n    };\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = () => {\r\n        dispatch(addPackTC(title));\r\n        onClose();\r\n    };\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <label>\r\n                    <h2>Add New Pack</h2>\r\n                    <span>Name pack</span>\r\n                    <br />\r\n                    <Input\r\n                        onChange={handleInputChange}\r\n                        name=\"name\"\r\n                        required\r\n                        value={title}\r\n                    />\r\n                </label>\r\n\r\n                <Button onClick={submitHandler} className={styles.btn}>\r\n                    Ok\r\n                </Button>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\n// Types\r\ntype UpdateModalPropsType = {\r\n    onClose: () => void;\r\n};\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n// import { catchErrorAC } from \"../../redux/appReducer\";\r\nimport {\r\n    getPacksTC,\r\n    setCurrentPageAC,\r\n    setMyPageAC,\r\n    setRangeValuesAC,\r\n    setSearchPacksAC,\r\n} from \"../../redux/packsReducer\";\r\nimport { setProfileIdAC } from \"../../redux/profileReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport RangeUI from \"../../UI-kit/RangeUI/RangeUI\";\r\nimport { ErrorMes } from \"../Error/ErrorMes\";\r\nimport { Paginator } from \"../Paginator/Paginator\";\r\nimport { Table } from \"../Table/Table\";\r\nimport styles from \"./Packs.module.css\";\r\nimport { AddPack } from \"./AddPack\";\r\n\r\nexport const Packs = () => {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [searchPack, setSearchPack] = useState(\"\");\r\n    const errorMessage = useSelector((state: AppStore) => state.app.error);\r\n    const packs = useSelector((state: AppStore) => state.packs.cardPacks);\r\n    const min = useSelector((state: AppStore) => state.packs.minCardsCount);\r\n    const max = useSelector((state: AppStore) => state.packs.maxCardsCount);\r\n    const pageCount = useSelector((state: AppStore) => state.packs.pageCount);\r\n    const myPage = useSelector((state: AppStore) => state.packs.myPage);\r\n    const totalPacksCount = useSelector(\r\n        (state: AppStore) => state.packs.cardPacksTotalCount\r\n    );\r\n    const currentPage = useSelector(\r\n        (state: AppStore) => state.packs.currentPage\r\n    );\r\n    const userId = useSelector((state: AppStore) => state.profile.profile._id);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const headers = [\r\n        \"Name\",\r\n        \"Count\",\r\n        \"Updated\",\r\n        \"Created By\",\r\n        \"Cards\",\r\n        \"Actions\",\r\n    ];\r\n\r\n    useEffect(() => {\r\n        // dispatch(setProfileIdAC(\"\")); // not currently works btns all and my when goBack from cards page\r\n        dispatch(getPacksTC());\r\n\r\n        // setTimeout(() => {\r\n        //     dispatch(catchErrorAC(\"\")); // not currently works btns all and my when goBack from cards page\r\n        // }, 2000);\r\n    }, [dispatch]);\r\n\r\n    const onChangePageHandler = useCallback(\r\n        (pageNumber: number) => {\r\n            dispatch(setCurrentPageAC(pageNumber));\r\n            dispatch(getPacksTC());\r\n        },\r\n        [dispatch]\r\n    );\r\n\r\n    const callSetSearchPack = (value: string) => {\r\n        setSearchPack(value);\r\n        dispatch(setSearchPacksAC(searchPack));\r\n    };\r\n\r\n    const getMyPacksHandler = () => {\r\n        dispatch(setProfileIdAC(userId));\r\n        dispatch(setMyPageAC(true));\r\n        dispatch(getPacksTC());\r\n    };\r\n\r\n    const getAllPacksHandler = () => {\r\n        dispatch(setProfileIdAC(\"\"));\r\n        dispatch(setMyPageAC(false));\r\n        dispatch(getPacksTC());\r\n    };\r\n\r\n    const [value, setValue] = useState<number[]>([min, max]);\r\n\r\n    const onChangeSuperDoubleRange = useCallback(\r\n        (value: number[]) => {\r\n            dispatch(setRangeValuesAC(value[0], value[1]));\r\n            setValue(value);\r\n        },\r\n        [dispatch]\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.wrapper}>\r\n                {errorMessage && <ErrorMes>{errorMessage}</ErrorMes>}\r\n                {showModal && (\r\n                    <AddPack\r\n                        onClose={() => {\r\n                            setShowModal(false);\r\n                        }}\r\n                    />\r\n                )}\r\n                <div className={styles.sidebar}>\r\n                    <h3>Show packs cards</h3>\r\n                    <div className={styles.btnWrapper}>\r\n                        <button\r\n                            onClick={getMyPacksHandler}\r\n                            className={\r\n                                myPage === true\r\n                                    ? `${styles.sideBtn} ${styles.active}`\r\n                                    : styles.sideBtn\r\n                            }\r\n                            disabled={myPage === true ? true : false}\r\n                        >\r\n                            My\r\n                        </button>\r\n                        <button\r\n                            onClick={getAllPacksHandler}\r\n                            className={\r\n                                myPage === false\r\n                                    ? `${styles.sideBtn} ${styles.active}`\r\n                                    : styles.sideBtn\r\n                            }\r\n                            disabled={myPage === false ? true : false}\r\n                        >\r\n                            All\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className={styles.sliderComponent}>\r\n                        <h3>Number of cards</h3>\r\n                        <div className={styles.sliderWrapper}>\r\n                            <RangeUI\r\n                                value={value}\r\n                                onChangeRange={onChangeSuperDoubleRange}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.packsList}>\r\n                    <h1>Packs List</h1>\r\n                    <div className={styles.search}>\r\n                        <div className={styles.fieldGroup}>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search...\"\r\n                                onChange={(e) =>\r\n                                    callSetSearchPack(e.currentTarget.value)\r\n                                }\r\n                            />\r\n                            <Button\r\n                                className={styles.searchBtn}\r\n                                onClick={() => dispatch(getPacksTC())}\r\n                            >\r\n                                Search\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <div className={styles.btnsWrapper}>\r\n                            <Button\r\n                                className={styles.searchBtn}\r\n                                onClick={() => {\r\n                                    setShowModal(true);\r\n                                }}\r\n                            >\r\n                                Add new pack\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.tableWrapper}>\r\n                        <Table headers={headers} packs={packs} />\r\n                        <Paginator\r\n                            currentItem={currentPage}\r\n                            itemCount={pageCount}\r\n                            totalItemCount={totalPacksCount}\r\n                            portionSize={10}\r\n                            onChangeItemHandler={onChangePageHandler}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import React, { HTMLAttributes } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\ntype NavLinksTestType = {\r\n    path: string;\r\n    text: string;\r\n};\r\n\r\ntype PropsType = HTMLAttributes<HTMLElement> & {\r\n    arrayLinks: NavLinksTestType[];\r\n    testPage?: boolean;\r\n    profilePage?: boolean;\r\n};\r\n\r\nexport const Header: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <header className={props.className}>\r\n            {props.testPage &&\r\n                props.arrayLinks.map((l, i) => (\r\n                    <NavLink key={i} to={l.path}>\r\n                        {l.text}\r\n                    </NavLink>\r\n                ))}\r\n\r\n            {props.profilePage && (\r\n                <div className=\"container inner-header\">\r\n                    <h1>It-incubator</h1>\r\n                    <nav className=\"profile-nav\">\r\n                        {props.arrayLinks.map((l, i) => (\r\n                            <NavLink\r\n                                key={i}\r\n                                activeClassName={\"active\"}\r\n                                to={l.path}\r\n                            >\r\n                                {l.text}\r\n                            </NavLink>\r\n                        ))}\r\n                    </nav>\r\n                </div>\r\n            )}\r\n        </header>\r\n    );\r\n};\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport { FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addCardTC } from \"../../redux/cardsReducer\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Modal } from \"../../UI-kit/Modal/Modal\";\r\nimport styles from \"./AddCard.module.css\";\r\n\r\nexport const AddCard: React.FC<UpdateModalPropsType> = ({\r\n    onClose,\r\n    packId,\r\n}) => {\r\n    const [question, setQuestion] = useState(\"\");\r\n    const [answer, setAnswer] = useState(\"\");\r\n    const handleQuestionInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setQuestion(e.currentTarget.value);\r\n    };\r\n    const handleAnswerInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setAnswer(e.currentTarget.value);\r\n    };\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = () => {\r\n        dispatch(addCardTC(packId, question, answer));\r\n        onClose();\r\n    };\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <div className={styles.wrapper}>\r\n                <label>\r\n                    <h2>Add New Card</h2>\r\n                    <span>Question</span>\r\n                    <br />\r\n                    <Input\r\n                        onChange={handleQuestionInputChange}\r\n                        name=\"question\"\r\n                        required\r\n                        value={question}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    <span>Answer</span>\r\n                    <br />\r\n\r\n                    <Input\r\n                        onChange={handleAnswerInputChange}\r\n                        name=\"answer\"\r\n                        required\r\n                        value={answer}\r\n                    />\r\n                </label>\r\n\r\n                <Button onClick={submitHandler} className={styles.btn}>\r\n                    Ok\r\n                </Button>\r\n                <div>\r\n                    <FaTimes onClick={onClose} className={styles.icon} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\n// Types\r\ntype UpdateModalPropsType = {\r\n    onClose: () => void;\r\n    packId: string;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { catchErrorAC } from \"../../redux/appReducer\";\r\nimport { getCardsTC, setCurrentPageAC } from \"../../redux/cardsReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Card } from \"../../UI-kit/Card/Card\";\r\nimport { ErrorMes } from \"../Error/ErrorMes\";\r\nimport { Paginator } from \"../Paginator/Paginator\";\r\nimport { Table } from \"../Table/Table\";\r\nimport { AddCard } from \"./AddCard\";\r\nimport styles from \"./Cards.module.css\";\r\n\r\nexport const Cards = () => {\r\n    const dispatch = useDispatch();\r\n    const { packId } = useParams<PackParamsType>();\r\n    const userId = useSelector((state: AppStore) => state.profile.profile._id);\r\n    const userIdFromCards = useSelector(\r\n        (state: AppStore) => state.cards.packUserId\r\n    );\r\n    const totalPacksCount = useSelector(\r\n        (state: AppStore) => state.cards.cardsCount\r\n    );\r\n    const currentPage = useSelector(\r\n        (state: AppStore) => state.cards.currentPage\r\n    );\r\n\r\n    const pageCount = useSelector((state: AppStore) => state.cards.pageCount);\r\n    const onChangePageHandler = (pageNumber: number) => {\r\n        dispatch(setCurrentPageAC(pageNumber));\r\n        dispatch(getCardsTC(packId));\r\n    };\r\n\r\n    const cards = useSelector((state: AppStore) => state.cards.cards);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const errorMessage = useSelector((state: AppStore) => state.app.error);\r\n\r\n    useEffect(() => {\r\n        dispatch(getCardsTC(packId));\r\n        setTimeout(() => {\r\n            dispatch(catchErrorAC(\"\"));\r\n        }, 3000);\r\n    }, [dispatch, packId]);\r\n\r\n    const headers = [\r\n        \"Question\",\r\n        \"Answer\",\r\n        \"Last Updated\",\r\n        \"Grade\",\r\n        \"Actions\",\r\n        \"\",\r\n    ];\r\n\r\n    const history = useHistory();\r\n\r\n    const handleGoBackClick = (\r\n        event: React.MouseEvent<HTMLDivElement, MouseEvent>\r\n    ) => {\r\n        event.preventDefault();\r\n        history.goBack();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {errorMessage && <ErrorMes>{errorMessage}</ErrorMes>}\r\n            {showModal && (\r\n                <AddCard\r\n                    onClose={() => {\r\n                        setShowModal(false);\r\n                    }}\r\n                    packId={packId}\r\n                />\r\n            )}\r\n\r\n            <div className={styles.content}>\r\n                <div className={styles.goback} onClick={handleGoBackClick}>\r\n                    <svg\r\n                        width={25}\r\n                        height={25}\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        viewBox=\"0 0 448 512\"\r\n                    >\r\n                        <path\r\n                            fill=\"currentColor\"\r\n                            d=\"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"\r\n                        ></path>\r\n                    </svg>\r\n                    GoBack\r\n                </div>\r\n                {userId === userIdFromCards && (\r\n                    <Button\r\n                        className={styles.btn}\r\n                        onClick={() => {\r\n                            setShowModal(true);\r\n                        }}\r\n                    >\r\n                        Add card\r\n                    </Button>\r\n                )}\r\n                {cards.length === 0 ? (\r\n                    <div className={styles.empty}>\r\n                        <h2>This pack is empty.</h2>\r\n                    </div>\r\n                ) : (\r\n                    <Card className={styles.wrapper}>\r\n                        <div>\r\n                            <Table headers={headers} cards={cards} />\r\n                            <Paginator\r\n                                currentItem={currentPage}\r\n                                itemCount={pageCount}\r\n                                totalItemCount={totalPacksCount}\r\n                                portionSize={10}\r\n                                onChangeItemHandler={onChangePageHandler}\r\n                            />\r\n                        </div>\r\n                    </Card>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n// Types\r\n\r\ntype PackParamsType = {\r\n    packId: string;\r\n};\r\n","import { styled } from \"@mui/material/styles\";\r\nimport Radio, { RadioProps } from \"@mui/material/Radio\";\r\nimport {\r\n    Card,\r\n    CardActions,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormLabel,\r\n    RadioGroup,\r\n} from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n    CardType,\r\n    getCardsTC,\r\n    setCurrentCardGradeAC,\r\n    setCurrentCardIdAC,\r\n    updateCardGradeTC,\r\n} from \"../../redux/cardsReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport styles from \"./Learn.module.css\";\r\n\r\nconst grades = [\r\n    \"Did not know\",\r\n    \"Forgot\",\r\n    \"A lot of thought\",\r\n    \"onfused\",\r\n    \"Knew the answer\",\r\n];\r\n\r\nconst getCard = (cards: CardType[]) => {\r\n    const sum = cards.reduce(\r\n        (acc, card) => acc + (6 - card.grade) * (6 - card.grade),\r\n        0\r\n    );\r\n    const rand = Math.random() * sum;\r\n    const res = cards.reduce(\r\n        (acc: { sum: number; id: number }, card, i) => {\r\n            const newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\r\n            return { sum: newSum, id: newSum < rand ? i : acc.id };\r\n        },\r\n        { sum: 0, id: -1 }\r\n    );\r\n    console.log(\"test: \", sum, rand, res);\r\n\r\n    return cards[res.id + 1];\r\n};\r\n\r\nexport const Learn = () => {\r\n    const [isChecked, setIsChecked] = useState<boolean>(false);\r\n    const [first, setFirst] = useState<boolean>(true);\r\n    const { cards } = useSelector((state: AppStore) => state.cards);\r\n    // const cardId = useSelector((state: AppStore) => state.cards.cardId);\r\n    const { cardPacks } = useSelector((state: AppStore) => state.packs);\r\n    const { packId } = useParams<ParamsType>();\r\n    const history = useHistory();\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n\r\n    const currentPack = cardPacks.filter((p) => p._id === packId);\r\n\r\n    const [card, setCard] = useState<CardType>({\r\n        _id: \"fake\",\r\n        cardsPack_id: \"\",\r\n        answer: \"answer fake\",\r\n        question: \"question fake\",\r\n        grade: 0,\r\n        shots: 0,\r\n        rating: 0,\r\n        updated: \"\",\r\n    });\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        console.log(\"LearnContainer useEffect\");\r\n\r\n        if (first) {\r\n            dispatch(getCardsTC(packId));\r\n            setFirst(false);\r\n        }\r\n\r\n        console.log(\"cards\", cards);\r\n        if (cards.length > 0) setCard(getCard(cards));\r\n\r\n        return () => {\r\n            console.log(\"LearnContainer useEffect off\");\r\n        };\r\n    }, [dispatch, packId, cards, first]);\r\n\r\n    const onNext = () => {\r\n        setIsChecked(false);\r\n\r\n        if (cards.length > 0) {\r\n            dispatch(setCurrentCardIdAC(card._id));\r\n            dispatch(updateCardGradeTC());\r\n            setCard(getCard(cards));\r\n        } else {\r\n        }\r\n    };\r\n\r\n    // customize Radio-button\r\n    const BpIcon = styled(\"span\")(({ theme }) => ({\r\n        borderRadius: \"50%\",\r\n        width: 16,\r\n        height: 16,\r\n        boxShadow:\r\n            theme.palette.mode === \"dark\"\r\n                ? \"0 0 0 1px rgb(16 22 26 / 40%)\"\r\n                : \"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)\",\r\n        backgroundColor: theme.palette.mode === \"dark\" ? \"#394b59\" : \"#f5f8fa\",\r\n        backgroundImage:\r\n            theme.palette.mode === \"dark\"\r\n                ? \"linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))\"\r\n                : \"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))\",\r\n        \".Mui-focusVisible &\": {\r\n            outline: \"2px auto rgba(19,124,189,.6)\",\r\n            outlineOffset: 2,\r\n        },\r\n        \"input:hover ~ &\": {\r\n            backgroundColor:\r\n                theme.palette.mode === \"dark\" ? \"#30404d\" : \"#ebf1f5\",\r\n        },\r\n        \"input:disabled ~ &\": {\r\n            boxShadow: \"none\",\r\n            background:\r\n                theme.palette.mode === \"dark\"\r\n                    ? \"rgba(57,75,89,.5)\"\r\n                    : \"rgba(206,217,224,.5)\",\r\n        },\r\n    }));\r\n\r\n    const BpCheckedIcon = styled(BpIcon)({\r\n        backgroundColor: \"#21268f\",\r\n        backgroundImage:\r\n            \"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))\",\r\n        \"&:before\": {\r\n            display: \"block\",\r\n            width: 16,\r\n            height: 16,\r\n            backgroundImage: \"radial-gradient(#fff,#fff 28%,transparent 32%)\",\r\n            content: '\"\"',\r\n        },\r\n        \"input:hover ~ &\": {\r\n            backgroundColor: \"#21268f\",\r\n        },\r\n    });\r\n\r\n    // Inspired by blueprintjs\r\n    function BpRadio(props: RadioProps) {\r\n        return (\r\n            <Radio\r\n                sx={{\r\n                    \"&:hover\": {\r\n                        bgcolor: \"transparent\",\r\n                    },\r\n                }}\r\n                disableRipple\r\n                color=\"default\"\r\n                checkedIcon={<BpCheckedIcon />}\r\n                icon={<BpIcon />}\r\n                {...props}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Card\r\n            className={styles.card}\r\n            sx={{ maxWidth: 413, minHeight: 300, margin: \"100px auto\" }}\r\n        >\r\n            <h2>Learn  {currentPack[0].name} </h2>\r\n            {card.question === \"question fake\" ? (\r\n                <p style={{ textAlign: \"center\" }}>\r\n                    <b>No questions in this Pack!!!</b>\r\n                </p>\r\n            ) : (\r\n                <p>\r\n                    <b>Question</b>:  {card.question} \r\n                </p>\r\n            )}\r\n\r\n            {!isChecked && (\r\n                <CardActions className={styles.actions}>\r\n                    <Button\r\n                        className={styles.cancelBtn}\r\n                        style={\r\n                            card.question === \"question fake\"\r\n                                ? { margin: \"0 auto\" }\r\n                                : { margin: \"0\" }\r\n                        }\r\n                        purple\r\n                        onClick={() => {\r\n                            history.goBack();\r\n                        }}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    {card.question !== \"question fake\" && (\r\n                        <Button onClick={() => setIsChecked(true)}>\r\n                            check\r\n                        </Button>\r\n                    )}\r\n                </CardActions>\r\n            )}\r\n\r\n            {isChecked && (\r\n                <>\r\n                    <p>\r\n                        <b>Answer</b>:  {card.answer} \r\n                    </p>\r\n\r\n                    <FormControl component=\"fieldset\">\r\n                        <FormLabel className={styles.legend} component=\"legend\">\r\n                            Rate yourself:\r\n                        </FormLabel>\r\n\r\n                        <RadioGroup\r\n                            aria-label=\"Rate\"\r\n                            defaultValue=\"Knew the answer\"\r\n                            name=\"radio-buttons-group\"\r\n                        >\r\n                            {grades.map((g, i) => (\r\n                                <FormControlLabel\r\n                                    key={i}\r\n                                    value={i + 1}\r\n                                    control={<BpRadio />}\r\n                                    label={g}\r\n                                    onChange={() => {\r\n                                        dispatch(setCurrentCardGradeAC(i + 1));\r\n                                    }}\r\n                                />\r\n                            ))}\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n\r\n                    <CardActions className={styles.actions}>\r\n                        <Button\r\n                            className={styles.cancelBtn}\r\n                            purple\r\n                            onClick={() => {\r\n                                history.goBack();\r\n                            }}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                        <Button\r\n                            className={styles.registerBtn}\r\n                            onClick={onNext}\r\n                            disabled={status === \"loading\"}\r\n                        >\r\n                            next\r\n                        </Button>\r\n                    </CardActions>\r\n                </>\r\n            )}\r\n        </Card>\r\n    );\r\n};\r\n\r\n//Types\r\ntype ParamsType = {\r\n    packId: string;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Profile.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { logoutThunk } from \"../../redux/loginReducer\";\r\nimport { navLinksProfile, PATH } from \"../Routes/Routes\";\r\nimport { Person } from \"../Person/Person\";\r\nimport { Packs } from \"../Packs/Packs\";\r\nimport { Header } from \"../Header/Header\";\r\nimport { Cards } from \"../Cards/Cards\";\r\nimport { Learn } from \"../Lern/Learn\";\r\n\r\nexport const Profile = () => {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const isLoggedIn = useSelector((state: AppStore) => state.login.isAuth);\r\n    const name = useSelector((state: AppStore) => state.profile.profile?.name);\r\n    const photo = useSelector(\r\n        (state: AppStore) => state.profile.profile?.avatar\r\n    );\r\n\r\n    const showModalHandler = () => {\r\n        setShowModal(true);\r\n    };\r\n    const hideModalHandler = () => {\r\n        setShowModal(false);\r\n    };\r\n    const logoutHandler = () => {\r\n        dispatch(logoutThunk());\r\n    };\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={PATH.LOGIN} />;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                arrayLinks={navLinksProfile}\r\n                className={styles.header}\r\n                profilePage\r\n            />\r\n\r\n            <Switch>\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_PERSON}\r\n                    render={() => (\r\n                        <Person\r\n                            photo={photo}\r\n                            name={name}\r\n                            showModalHandler={showModalHandler}\r\n                            logoutHandler={logoutHandler}\r\n                            showModal={showModal}\r\n                            hideModalHandler={hideModalHandler}\r\n                        />\r\n                    )}\r\n                />\r\n\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_PACKS}\r\n                    render={() => <Packs />}\r\n                />\r\n\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_CARDS}\r\n                    render={() => <Cards />}\r\n                />\r\n\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_PACKS_LEARN}\r\n                    render={() => <Learn />}\r\n                />\r\n            </Switch>\r\n        </>\r\n    );\r\n};\r\n","import React, { ChangeEvent, MouseEvent, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Card } from \"../../UI-kit/Card/Card\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport styles from \"./Register.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { registerFailureAC, registerUserTC } from \"../../redux/registerReducer\";\r\nimport { AppStore } from \"../../redux/store\";\r\nimport { PATH } from \"../Routes/Routes\";\r\nimport { ErrorMes } from \"../Error/ErrorMes\";\r\n\r\nexport const Register = () => {\r\n    const [user, setUser] = useState<InitialValuesType>({\r\n        email: \"\",\r\n        createPassword: \"\",\r\n        confirmPassword: \"\",\r\n    });\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.currentTarget;\r\n        const newValue = value;\r\n        setUser({\r\n            ...user,\r\n            [name]: newValue,\r\n        });\r\n    };\r\n    const isRegistered = useSelector(\r\n        (state: AppStore) => state.register.isRegistered\r\n    );\r\n    const errorMessage = useSelector((state: AppStore) => state.register.error);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    function handleSubmit(e: MouseEvent<HTMLElement>) {\r\n        e.preventDefault();\r\n        setSubmitted(true);\r\n        if (\r\n            user.email &&\r\n            user.createPassword &&\r\n            user.confirmPassword &&\r\n            user.createPassword === user.confirmPassword\r\n        ) {\r\n            dispatch(registerUserTC(user.email, user.createPassword));\r\n            setUser({ email: \"\", createPassword: \"\", confirmPassword: \"\" });\r\n            setTimeout(() => {\r\n                dispatch(registerFailureAC(\"\"));\r\n            }, 2000);\r\n            setSubmitted(false);\r\n        }\r\n    }\r\n\r\n    if (isRegistered) {\r\n        return <Redirect to={PATH.LOGIN} />;\r\n    }\r\n    return (\r\n        <div>\r\n            {errorMessage && <ErrorMes>{errorMessage}</ErrorMes>}\r\n            <div className={styles.wrapper}>\r\n                <Card className={styles.register}>\r\n                    <h1>It-incubator</h1>\r\n\r\n                    <div className={styles.formWrapper}>\r\n                        <form>\r\n                            <h2>Sign Up</h2>\r\n                            <div className={styles.formGroup}>\r\n                                <label>\r\n                                    <span>Email</span>\r\n                                    <br />\r\n                                    <Input\r\n                                        onChange={handleInputChange}\r\n                                        name=\"email\"\r\n                                        type=\"text\"\r\n                                        required\r\n                                        value={user.email}\r\n                                    />\r\n                                </label>\r\n\r\n                                <div>\r\n                                    {submitted &&\r\n                                        !user.email &&\r\n                                        \"Email is required\"}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div\r\n                                className={`${styles.formGroup} ${styles.shapeIcon}`}\r\n                            >\r\n                                <label>\r\n                                    <span>Password</span>\r\n                                    <br />\r\n                                    <Input\r\n                                        onChange={handleInputChange}\r\n                                        name=\"createPassword\"\r\n                                        type=\"password\"\r\n                                        required\r\n                                        value={user.createPassword}\r\n                                    />\r\n                                </label>\r\n\r\n                                <div>\r\n                                    {submitted &&\r\n                                        !user.createPassword &&\r\n                                        \"Password is required.\"}\r\n                                </div>\r\n                            </div>\r\n                            <div\r\n                                className={`${styles.formGroup} ${styles.shapeIcon}`}\r\n                            >\r\n                                <label>\r\n                                    <span>Confirm Password</span>\r\n                                    <br />\r\n                                    <Input\r\n                                        onChange={handleInputChange}\r\n                                        name=\"confirmPassword\"\r\n                                        type=\"password\"\r\n                                        required\r\n                                        value={user.confirmPassword}\r\n                                    />\r\n                                </label>\r\n\r\n                                <div>\r\n                                    {submitted &&\r\n                                        user.confirmPassword !==\r\n                                            user.createPassword &&\r\n                                        user.confirmPassword.length > 1 &&\r\n                                        \"Passwords do not match.\"}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    {submitted &&\r\n                                        !user.confirmPassword &&\r\n                                        \"You should confirm your password.\"}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div\r\n                                className={`${styles.formGroup} ${styles.formGroupButton}`}\r\n                            >\r\n                                <Button\r\n                                    className={styles.cancelBtn}\r\n                                    purple\r\n                                    onClick={() => {\r\n                                        history.goBack();\r\n                                    }}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button\r\n                                    className={styles.registerBtn}\r\n                                    type={\"submit\"}\r\n                                    onClick={handleSubmit}\r\n                                    disabled={status === \"loading\"}\r\n                                >\r\n                                    Register\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n//Types\r\nexport type InitialValuesType = {\r\n    email: string;\r\n    createPassword: string;\r\n    confirmPassword: string;\r\n};\r\n","import React, {\r\n    DetailedHTMLProps,\r\n    InputHTMLAttributes,\r\n    HTMLAttributes,\r\n    useState,\r\n} from \"react\";\r\n\r\nimport { FaEdit } from \"react-icons/fa\";\r\nimport { Input } from \"../Input/Input\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<\r\n    InputHTMLAttributes<HTMLInputElement>,\r\n    HTMLInputElement\r\n>;\r\n\r\ntype DefaultSpanPropsType = DetailedHTMLProps<\r\n    HTMLAttributes<HTMLSpanElement>,\r\n    HTMLSpanElement\r\n>;\r\n\r\ntype EditableSpanType = DefaultInputPropsType & {\r\n    onChangeText?: (value: string) => void;\r\n    onEnter?: () => void;\r\n    error?: string;\r\n    spanClassName?: string;\r\n    spanProps?: DefaultSpanPropsType;\r\n};\r\n\r\nexport const EditableSpan: React.FC<EditableSpanType> = ({\r\n    autoFocus,\r\n    onBlur,\r\n    onEnter,\r\n    spanProps,\r\n    ...restProps\r\n}) => {\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n    const { children, onDoubleClick, className, ...restSpanProps } =\r\n        spanProps || {};\r\n\r\n    const onEnterCallback = () => {\r\n        onEnter && onEnter();\r\n    };\r\n    const onBlurCallback = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setEditMode(false);\r\n\r\n        onBlur && onBlur(e);\r\n    };\r\n    const onDoubleClickCallBack = (\r\n        e: React.MouseEvent<HTMLSpanElement, MouseEvent>\r\n    ) => {\r\n        setEditMode(true);\r\n\r\n        onDoubleClick && onDoubleClick(e);\r\n    };\r\n\r\n    const spanClassName = `${\"    \"} ${className}`;\r\n\r\n    return (\r\n        <>\r\n            {editMode ? (\r\n                <Input\r\n                    autoFocus\r\n                    onBlur={onBlurCallback}\r\n                    onEnter={onEnterCallback}\r\n                    {...restProps}\r\n                />\r\n            ) : (\r\n                <span\r\n                    onDoubleClick={onDoubleClickCallBack}\r\n                    className={spanClassName}\r\n                    {...restSpanProps}\r\n                >\r\n                    <FaEdit style={{ fontSize: \"1.8rem\" }} />{\" \"}\r\n                    {children || restProps.value}\r\n                </span>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","import React, {\n  ChangeEvent,\n  InputHTMLAttributes,\n  DetailedHTMLProps,\n} from \"react\";\nimport s from \"./Radio.module.css\";\n\ntype DefaultRadioPropsType = DetailedHTMLProps<\n  InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\ntype RadioPropsType = DefaultRadioPropsType & {\n  options?: any[];\n  onChangeOption?: (option: any) => void;\n};\n\nexport const Radio: React.FC<RadioPropsType> = ({\n  type,\n  name,\n  options,\n  value,\n  onChange,\n  onChangeOption,\n  ...restProps\n}) => {\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\n    onChange && onChange(e);\n    onChangeOption && onChangeOption(e.currentTarget.value);\n  };\n\n  const mappedOptions: any[] = options\n    ? options.map((o, i) => (\n        <label key={name + \"-\" + i}>\n          <input\n            className={s.optionInput}\n            type=\"radio\"\n            name={name}\n            value={o}\n            checked={value === o}\n            onChange={onChangeCallback}\n          />\n          {o}\n        </label>\n      ))\n    : [];\n\n  return <div className={s.customRadios}>{mappedOptions}</div>;\n};\n","import React, {\n  SelectHTMLAttributes,\n  DetailedHTMLProps,\n  ChangeEvent,\n} from \"react\";\nimport s from \"./Select.module.css\";\n\ntype DefaultSelectPropsType = DetailedHTMLProps<\n  SelectHTMLAttributes<HTMLSelectElement>,\n  HTMLSelectElement\n>;\n\ntype SelectPropsType = DefaultSelectPropsType & {\n  options?: any[];\n  onChangeOption?: (option: any) => void;\n};\n\nexport const Select: React.FC<SelectPropsType> = ({\n  options,\n  onChange,\n  onChangeOption,\n  ...restProps\n}) => {\n  const mappedOptions: any[] = options\n    ? options.map((o, i) => {\n        return <option key={i}>{o}</option>;\n      })\n    : [];\n\n  const onChangeCallback = (e: ChangeEvent<HTMLSelectElement>) => {\n    onChange && onChange(e);\n    onChangeOption && onChangeOption(e.currentTarget.value);\n    console.log(\"select \" + e.currentTarget.value);\n  };\n\n  return (\n    <div className={s.select}>\n      <select onChange={onChangeCallback} {...restProps}>\n        {mappedOptions}\n      </select>\n    </div>\n  );\n};\n","import React, {\r\n  ChangeEvent,\r\n  DetailedHTMLProps,\r\n  InputHTMLAttributes,\r\n} from \"react\";\r\nimport styles from \"./Range.module.css\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<\r\n  InputHTMLAttributes<HTMLInputElement>,\r\n  HTMLInputElement\r\n>;\r\n\r\ntype RangePropsType = DefaultInputPropsType & {\r\n  onChangeRange?: (value: number) => void;\r\n};\r\n\r\nexport const Range: React.FC<RangePropsType> = ({\r\n  type,\r\n  onChange,\r\n  onChangeRange,\r\n  className,\r\n  value,\r\n  ...restProps\r\n}) => {\r\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n    onChange && onChange(e);\r\n    onChangeRange && onChangeRange(+e.currentTarget.value);\r\n  };\r\n\r\n  // const finalRangeClassName = `${styles.slider} ${className ? className : \"\"}`;\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.container}>\r\n        <div className={styles.sliderTrack}></div>\r\n        <input\r\n          type={\"range\"}\r\n          className={styles.doubleRange}\r\n          onChange={onChangeCallback}\r\n          {...restProps}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport { Button } from \"../../UI-kit/Button/Button\";\r\nimport { Checkbox } from \"../../UI-kit/Checkbox/Checkbox\";\r\nimport { EditableSpan } from \"../../UI-kit/EditableSpan/EditableSpan\";\r\nimport { Input } from \"../../UI-kit/Input/Input\";\r\nimport { Radio } from \"../../UI-kit/Radio/Radio\";\r\nimport { Select } from \"../../UI-kit/Select/Select\";\r\nimport { Range } from \"../../UI-kit/Range/Range\";\r\nimport { Header } from \"../Header/Header\";\r\nimport { authAPI } from \"../../api/api\";\r\nimport styles from \"./TestPage.module.css\";\r\nimport { navLinksTest } from \"../Routes/Routes\";\r\n\r\nexport const TestPage = () => {\r\n    const arr: string[] = [\"apple\", \"grape\", \"cherry\"];\r\n    const [value, onChangeOption] = useState(arr[1]);\r\n    const [rangeValue, setRangeValue] = useState(50);\r\n    const [checked, setChecked] = useState<boolean>(false);\r\n    const [response, setResponse] = useState<any>();\r\n    const testOnChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setChecked(e.currentTarget.checked);\r\n    };\r\n    const changeHandler = (value: number) => {\r\n        setRangeValue(value);\r\n    };\r\n    const login = () => {\r\n        authAPI\r\n            .login(\"nya-admn@nya.nya\", \"1qazxcvBG\", true)\r\n            .then((res) => {\r\n                setResponse(JSON.stringify(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n    const me = () => {\r\n        authAPI\r\n            .me()\r\n            .then((res) => {\r\n                setResponse(JSON.stringify(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n    const register = () => {\r\n        authAPI\r\n            .register(\"blabla00000@nya.nya\", \"1qazxcvBG\")\r\n            .then((res) => {\r\n                setResponse(JSON.stringify(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n    const changeInfo = () => {\r\n        authAPI\r\n            .changeInfo(\"New Name\", \"https://i.mydramalist.com/67r8d_5_c.jpg\")\r\n            .then((res) => {\r\n                setResponse(JSON.stringify(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n    const logout = () => {\r\n        authAPI\r\n            .logout()\r\n            .then((res) => {\r\n                setResponse(JSON.stringify(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n    const forgotPassword = () => {\r\n        authAPI\r\n            .forgotPassword(\"blabla@nya.nya\")\r\n            .then((res) => {\r\n                setResponse(JSON.stringify(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                arrayLinks={navLinksTest}\r\n                className={styles.header}\r\n                testPage\r\n            />\r\n\r\n            <div\r\n                style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"space-around\",\r\n                    alignItems: \"center\",\r\n                    height: \"80vh\",\r\n                    marginTop: \"5rem\",\r\n                }}\r\n            >\r\n                <Button>button</Button>\r\n                <Checkbox checked={checked} onChange={testOnChange} />\r\n                <EditableSpan />\r\n                <Radio\r\n                    value={value}\r\n                    options={arr}\r\n                    onChangeOption={onChangeOption}\r\n                />\r\n                <Input />\r\n                <span style={{ fontSize: \"1.7rem\" }}>{rangeValue}</span>\r\n                <Range onChangeRange={changeHandler} value={rangeValue} />\r\n                <Select\r\n                    value={value}\r\n                    options={arr}\r\n                    onChangeOption={onChangeOption}\r\n                />\r\n                <div className={styles.requestsWrapper}>\r\n                    <Button onClick={login}>Login Request</Button>\r\n                    <Button onClick={register}>Register</Button>\r\n                    <Button onClick={me}>Show User</Button>\r\n                    <Button onClick={changeInfo}>Change Info</Button>\r\n                    <Button onClick={logout}>Logout</Button>\r\n                    <Button onClick={forgotPassword}>Forgot Password</Button>\r\n                </div>\r\n                <div style={{ width: \"800px\" }}>{response}</div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { CheckEmail } from \"../CheckEmail/CheckEmail\";\r\nimport { ErrorPage } from \"../ErrorPage/ErrorPage\";\r\nimport { Login } from \"../Login/Login\";\r\nimport { PasswordRecovery } from \"../PasswordRecovery/PasswordRecovery\";\r\nimport { PasswordUpdate } from \"../PasswordUpdate/ParrwordUpdate\";\r\nimport { Profile } from \"../Profile/Profile\";\r\nimport { Register } from \"../Register/Register\";\r\nimport { TestPage } from \"../TestPage/TestPage\";\r\n\r\nexport const PATH = {\r\n    LOGIN: \"/login\",\r\n    TEST: \"/test\",\r\n    PASSWORD_UPDATE: \"/password-update/:token\",\r\n    PASSWORD_RECOVERY: \"/password-recovery\",\r\n    PROFILE: \"/profile\",\r\n    PROFILE_PERSON: \"/profile/person\",\r\n    PROFILE_PACKS: \"/profile/packs\",\r\n    PROFILE_PACKS_LEARN: \"/profile/packs/lern/:packId\",\r\n    PROFILE_CARDS: \"/profile/cards/:packId\",\r\n    REGISTER: \"/register\",\r\n    EMAIL_CHECK: \"/check-email\",\r\n    ERROR: \"/error-page\",\r\n};\r\n\r\nexport const navLinksProfile = [\r\n    { path: PATH.PROFILE_PACKS, text: \"Packs list\" },\r\n    { path: PATH.PROFILE_PERSON, text: \"Profile\" },\r\n];\r\n\r\nexport const navLinksTest = [\r\n    { path: PATH.LOGIN, text: \"Login\" },\r\n    { path: PATH.REGISTER, text: \"Register\" },\r\n    { path: PATH.PROFILE, text: \"Profile\" },\r\n    { path: PATH.PASSWORD_UPDATE, text: \"Update Password\" },\r\n    { path: PATH.PASSWORD_RECOVERY, text: \"Recovery Password\" },\r\n    { path: PATH.EMAIL_CHECK, text: \"Check Email\" },\r\n    { path: PATH.ERROR, text: \"ErrorPage\" },\r\n];\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <>\r\n            <Switch>\r\n                <Route\r\n                    exact\r\n                    path={\"/\"}\r\n                    render={() => <Redirect to={PATH.LOGIN} />}\r\n                />\r\n                <Route exact path={PATH.TEST} render={() => <TestPage />} />\r\n                <Route exact path={PATH.LOGIN} render={() => <Login />} />\r\n                <Route exact path={PATH.REGISTER} render={() => <Register />} />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE}\r\n                    render={() => <Redirect to={PATH.PROFILE_PERSON} />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_PERSON}\r\n                    render={() => <Profile />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_PACKS}\r\n                    render={() => <Profile />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_CARDS}\r\n                    render={() => <Profile />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE_PACKS_LEARN}\r\n                    render={() => <Profile />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PASSWORD_UPDATE}\r\n                    render={() => <PasswordUpdate />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.PASSWORD_RECOVERY}\r\n                    render={() => <PasswordRecovery />}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path={PATH.EMAIL_CHECK}\r\n                    render={() => <CheckEmail />}\r\n                />\r\n\r\n                <Route\r\n                    exact\r\n                    path={PATH.PROFILE}\r\n                    render={() => <Redirect to={PATH.PROFILE_PERSON} />}\r\n                />\r\n                <Route exact render={() => <ErrorPage />} />\r\n            </Switch>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Routes from \"./components/Routes/Routes\";\r\nimport { initializeAppThunk } from \"./redux/appReducer\";\r\nimport { AppStore } from \"./redux/store\";\r\nimport { Preloader } from \"./UI-kit/Preloader/Preloader\";\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch();\r\n    const isInitialized = useSelector<AppStore, boolean>(\r\n        (state) => state.app.isInitialized\r\n    );\r\n\r\n    const status = useSelector((state: AppStore) => state.app.status);\r\n    useEffect(() => {\r\n        if (!isInitialized) {\r\n            dispatch(initializeAppThunk());\r\n        }\r\n    }, [dispatch, isInitialized]);\r\n\r\n    if (!isInitialized) {\r\n        return <Preloader />;\r\n    }\r\n    return (\r\n        <HashRouter>\r\n            <div className=\"app\">\r\n                {status === \"loading\" && <Preloader />}\r\n                <Routes />\r\n            </div>\r\n        </HashRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { applyMiddleware } from \"redux\";\r\nimport { combineReducers, createStore } from \"redux\";\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\";\r\nimport { ActionAppTypes, appReducer } from \"./appReducer\";\r\nimport { ActionCardsTypes, cardsReducer } from \"./cardsReducer\";\r\nimport { ActionForgotTypes, forgotReducer } from \"./forgotReducer\";\r\nimport { ActionLoginTypes, loginReducer } from \"./loginReducer\";\r\nimport { ActionPacksTypes, packsReducer } from \"./packsReducer\";\r\nimport { ActionProfileTypes, profileReducer } from \"./profileReducer\";\r\nimport { ActionRegisterTypes, registerReducer } from \"./registerReducer\";\r\n\r\nconst reducers = combineReducers({\r\n    login: loginReducer,\r\n    register: registerReducer,\r\n    forgot: forgotReducer,\r\n    profile: profileReducer,\r\n    app: appReducer,\r\n    packs: packsReducer,\r\n    cards: cardsReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n// Types\r\nexport type AppStore = ReturnType<typeof reducers>;\r\nexport type AppActionsType =\r\n    | ActionLoginTypes\r\n    | ActionProfileTypes\r\n    | ActionRegisterTypes\r\n    | ActionAppTypes\r\n    | ActionForgotTypes\r\n    | ActionPacksTypes\r\n    | ActionCardsTypes;\r\n\r\nexport type ThunkType = ThunkAction<void, AppStore, unknown, AppActionsType>;\r\n// @ts-ignore\r\nwindow.store = store; // for dev\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Packs_wrapper__MxgTU\",\"sidebar\":\"Packs_sidebar__2sMXL\",\"packsList\":\"Packs_packsList__2STId\",\"avatar\":\"Packs_avatar__2t110\",\"search\":\"Packs_search__3PHqJ\",\"fieldGroup\":\"Packs_fieldGroup__3pn_M\",\"tableWrapper\":\"Packs_tableWrapper__3_3dP\",\"btnWrapper\":\"Packs_btnWrapper__2GR07\",\"sideBtn\":\"Packs_sideBtn__39pKS\",\"active\":\"Packs_active__2RzHv\",\"showPacksComponent\":\"Packs_showPacksComponent__daAmp\",\"sliderComponent\":\"Packs_sliderComponent__Ci5yL\",\"sliderWrapper\":\"Packs_sliderWrapper__D70XC\",\"btnsWrapper\":\"Packs_btnsWrapper__HMD7O\",\"searchBtn\":\"Packs_searchBtn__2Mkzh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__3oy2P\",\"login\":\"Login_login__37t3P\",\"formGroup\":\"Login_formGroup__Idr3h\",\"formGroupButton\":\"Login_formGroupButton__1TQ2j\",\"formWrapper\":\"Login_formWrapper__3tjW-\",\"shapeIcon\":\"Login_shapeIcon__3cCy6\",\"formGroupPassword\":\"Login_formGroupPassword__bwaW4\",\"navLinkGroup\":\"Login_navLinkGroup__2PHSb\",\"formGroupCheckbox\":\"Login_formGroupCheckbox__d9XdY\",\"error\":\"Login_error__3fov8\",\"errorMessage\":\"Login_errorMessage__3jEWC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Table_btn__AGjws\",\"deleteBtn\":\"Table_deleteBtn__QKZ32\",\"narrow\":\"Table_narrow__1TQrE\",\"table\":\"Table_table__3yN3S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Register_wrapper__3UT_f\",\"formGroup\":\"Register_formGroup__12QkB\",\"formWrapper\":\"Register_formWrapper__2h4YZ\",\"shapeIcon\":\"Register_shapeIcon__6lIyQ\",\"formGroupPassword\":\"Register_formGroupPassword__3PPmm\",\"formGroupButton\":\"Register_formGroupButton__2NqhD\",\"register\":\"Register_register__3kM7G\",\"cancelBtn\":\"Register_cancelBtn__UM_7d\",\"registerBtn\":\"Register_registerBtn__2W1rN\",\"errorMessage\":\"Register_errorMessage__2Ynb9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Password_wrapper__1UQXX\",\"login\":\"Password_login__mH2Yc\",\"formGroup\":\"Password_formGroup__1yNy6\",\"formGroupButton\":\"Password_formGroupButton__RXYYP\",\"formWrapper\":\"Password_formWrapper__1m_ju\",\"shapeIcon\":\"Password_shapeIcon__1l6lj\",\"formGroupEmail\":\"Password_formGroupEmail__2bDnn\",\"formGroupPassword\":\"Password_formGroupPassword__1akW3\",\"navLinkGroup\":\"Password_navLinkGroup__3pUgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ChangeUserInfo_wrapper__2YSlK\",\"btn\":\"ChangeUserInfo_btn__3Vd2X\",\"icon\":\"ChangeUserInfo_icon__15zxG\",\"avatar\":\"ChangeUserInfo_avatar__17yID\",\"btnsWrapper\":\"ChangeUserInfo_btnsWrapper__a128_\",\"iconUpload\":\"ChangeUserInfo_iconUpload__1Mq7a\",\"input\":\"ChangeUserInfo_input__2PaYd\",\"dispNone\":\"ChangeUserInfo_dispNone__3kQt4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Learn_card__xwqE5\",\"actions\":\"Learn_actions__3Z8MK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UpdateCard_wrapper__2ilQo\",\"btn\":\"UpdateCard_btn__2VVgX\",\"icon\":\"UpdateCard_icon__2BBZN\",\"btnsWrapper\":\"UpdateCard_btnsWrapper__1kfy_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Profile_header__2bAEi\",\"wrapper\":\"Profile_wrapper__116bO\",\"packsList\":\"Profile_packsList__3Lt71\",\"avatar\":\"Profile_avatar__1sEt0\",\"infoBox\":\"Profile_infoBox__3X80n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"Button_default__1knTv\",\"red\":\"Button_red__2SQ74\",\"purple\":\"Button_purple__24yZ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ParrwordUpdate_wrapper__3jZXP\",\"emailChecking\":\"ParrwordUpdate_emailChecking__1DtVV\",\"formGroup\":\"ParrwordUpdate_formGroup__l5t20\",\"formGroupButton\":\"ParrwordUpdate_formGroupButton__2U5br\",\"shapeIcon\":\"ParrwordUpdate_shapeIcon__1JjRV\",\"formGroupPassword\":\"ParrwordUpdate_formGroupPassword__htVn4\",\"btn\":\"ParrwordUpdate_btn__2_E4W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnsWrapper\":\"ChangePack_btnsWrapper__1Cynd\",\"wrapper\":\"ChangePack_wrapper__Kl9cc\",\"icon\":\"ChangePack_icon__RHz3p\",\"btn\":\"ChangePack_btn__3KP0i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnsWrapper\":\"DeletePackModal_btnsWrapper__2Tqj_\",\"wrapper\":\"DeletePackModal_wrapper__1XdmC\",\"icon\":\"DeletePackModal_icon__u97vI\",\"btn\":\"DeletePackModal_btn__2-RJr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnsWrapper\":\"DeleteCardModal_btnsWrapper__1Qblh\",\"wrapper\":\"DeleteCardModal_wrapper__4IEGk\",\"icon\":\"DeleteCardModal_icon__1D_d-\",\"btn\":\"DeleteCardModal_btn__mXjYE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Cards_wrapper__1snrW\",\"empty\":\"Cards_empty__1gUHd\",\"header\":\"Cards_header__3Kemu\",\"btn\":\"Cards_btn__1YP9h\",\"content\":\"Cards_content__3GBlg\",\"goback\":\"Cards_goback__2Ct0K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Error404_wrapper__1PQcW\",\"errorCode\":\"Error404_errorCode__2TQ0K\",\"errorText\":\"Error404_errorText__rZJxm\",\"errorImg\":\"Error404_errorImg__dI4o-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__34ZZ_\",\"paginator\":\"Paginator_paginator__2p8CY\",\"icon\":\"Paginator_icon__B30lc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Range_wrapper__1jCIW\",\"container\":\"Range_container__3yAd_\",\"doubleRange\":\"Range_doubleRange__3dHez\",\"sliderTrack\":\"Range_sliderTrack__17no4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CheckEmail_wrapper__2cHq-\",\"emailChecking\":\"CheckEmail_emailChecking__62hTL\",\"iconWrapper\":\"CheckEmail_iconWrapper__2PJz-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"superInput\":\"Input_superInput__101bN\",\"errorInput\":\"Input_errorInput__2kQCt\",\"error\":\"Input_error__2JFCz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2kqKl\",\"modal\":\"Modal_modal__3fGeL\",\"slide-down\":\"Modal_slide-down__2KI-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddPack_wrapper__1sq_s\",\"btn\":\"AddPack_btn__1HOKv\",\"icon\":\"AddPack_icon__2jY0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddCard_wrapper__2tuDt\",\"btn\":\"AddCard_btn__m_xC_\",\"icon\":\"AddCard_icon__1n4wJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Preloader_img__2BTir\",\"backdrop\":\"Preloader_backdrop__2RB3B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customRadios\":\"Radio_customRadios__3ilr1\",\"optionInput\":\"Radio_optionInput__3zbtW\",\"click-wave\":\"Radio_click-wave__6phRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"requestsWrapper\":\"TestPage_requestsWrapper__ain2I\",\"header\":\"TestPage_header__1Eh7E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__16KNy\"};"],"sourceRoot":""}